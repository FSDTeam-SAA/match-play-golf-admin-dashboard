module.exports=[58069,a=>{"use strict";a.s(["default",()=>x],58069);var b=a.i(87924),c=a.i(33217),d=a.i(50944),e=a.i(72131),f=a.i(68114);function g({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"skeleton",className:(0,f.cn)("bg-accent animate-pulse rounded-md",a),...c})}let h=({rules:a,isLoading:c})=>c?(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-2xl font-semibold",children:"Event Rules"}),(0,b.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,b.jsx)(g,{className:"h-4 w-[80%]"}),(0,b.jsx)(g,{className:"h-4 w-[90%]"}),(0,b.jsx)(g,{className:"h-4 w-[70%]"}),(0,b.jsx)(g,{className:"h-4 w-[60%]"})]})]}):(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-2xl font-semibold",children:"Event Rules"}),(0,b.jsx)("div",{className:"text-gray-500 mt-3",children:(0,b.jsx)("div",{dangerouslySetInnerHTML:{__html:a}})})]}),i=({label:a,value:c,highlight:d})=>(0,b.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-100 pb-3 last:border-0",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:[a,":"]}),(0,b.jsx)("span",{className:`text-right text-sm ${d?"font-semibold text-gray-900":c?"text-gray-800":"text-gray-400"}`,children:c||"Not specified"})]}),j=({tournament:a,isLoading:c})=>c?(0,b.jsxs)("div",{className:"rounded-lg border bg-white p-6 shadow-sm",children:[(0,b.jsx)(g,{className:"mb-6 h-7 w-48"}),(0,b.jsx)("div",{className:"space-y-4",children:Array.from({length:9}).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(g,{className:"h-4 w-32"}),(0,b.jsx)(g,{className:"h-4 w-48"})]},c))})]}):a?(0,b.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all hover:shadow-md",children:[(0,b.jsx)("h4",{className:"mb-6 text-2xl font-semibold text-gray-800",children:"Event Details"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(i,{label:"Event Name",value:a.tournamentName,highlight:!0}),(0,b.jsx)(i,{label:"Sport",value:a.sportName}),(0,b.jsx)(i,{label:"Format",value:a.format}),(0,b.jsx)(i,{label:"Competition Type",value:a.drawFormat}),(0,b.jsx)(i,{label:"Draw Size",value:a.drawSize?a.drawSize.toString():void 0}),(0,b.jsx)(i,{label:"Start Date",value:a.startDate?new Date(a.startDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):void 0}),(0,b.jsx)(i,{label:"End Date",value:a.endDate?new Date(a.endDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):void 0}),(0,b.jsx)(i,{label:"Location",value:a.location}),(0,b.jsx)(i,{label:"Hold Each Round",value:""})]})]}):(0,b.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,b.jsx)("h4",{className:"mb-6 text-2xl font-semibold text-gray-800",children:"Event Details"}),(0,b.jsx)("p",{className:"text-center text-gray-500",children:"No tournament data available"})]});var k=a.i(71987),l=a.i(14574);let m=({isModalOpen:a,handleCloseModal:c,match:d,pairWinner1:e,winner1:f})=>(0,b.jsx)(l.Dialog,{open:a,onOpenChange:c,children:(0,b.jsx)(l.DialogContent,{className:"bg-white lg:max-w-2xl",children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Match Play Moments"}),(0,b.jsx)("div",{className:"mb-2 font-semibold",children:d?.matchType==="Pair"?(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("h1",{children:[d?.pair1Id?.player1?.fullName," &"," ",d?.pair1Id?.player1?.fullName]}),(0,b.jsxs)("div",{className:`flex items-center gap-2 ${e&&"flex-row-reverse"}`,children:[(0,b.jsx)("h1",{children:"VS"})," ",(0,b.jsxs)("h1",{children:[d?.pair1Score,"/",d?.pair2Score]})]}),(0,b.jsxs)("h1",{children:[d?.pair2Id?.player1?.fullName," &"," ",d?.pair2Id?.player1?.fullName]})]}):(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("h1",{children:d?.player1Id?.fullName}),(0,b.jsxs)("div",{className:`flex items-center gap-2 ${f&&"flex-row-reverse"}`,children:[(0,b.jsx)("h1",{children:"VS"})," ",(0,b.jsxs)("h1",{children:[d?.player1Score,"/",d?.player2Score]})]}),(0,b.jsx)("h1",{children:d?.player2Id?.fullName})]})}),(0,b.jsx)("div",{className:"mb-5",children:(0,b.jsx)("p",{className:"opacity-75",children:d?.comments||"No comments."})}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-5",children:d?.matchPhoto?.map((a,c)=>(0,b.jsx)(k.default,{src:a,alt:"img.png",width:1e3,height:1e3,className:"h-32 object-cover rounded-lg"},c))})]})})}),n=({isModalOpen:a,handleCloseModal:c,matchInfo:d})=>{if(!d)return null;let e=d?.status==="completed"||d?.status==="Completed",f=d?.winner===d?.player1Id?._id,g=d?.winner===d?.player2Id?._id;return(0,b.jsx)(l.Dialog,{open:a,onOpenChange:c,children:(0,b.jsx)(l.DialogContent,{className:"bg-white lg:max-w-3xl max-w-[95vw] sm:max-w-lg md:max-w-xl",children:(0,b.jsxs)("div",{className:"p-4 md:p-6",children:[(0,b.jsxs)("div",{className:"text-center mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Match Details"}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,b.jsx)("span",{className:`text-sm font-medium px-4 py-1.5 rounded-full ${(a=>{switch(a?.toLowerCase()){case"upcoming":return"bg-blue-100 text-blue-800";case"in progress":case"in_progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(d?.status)}`,children:d?.status||"upcoming"}),d?.matchType&&(0,b.jsx)("span",{className:"text-sm font-medium px-4 py-1.5 rounded-full bg-purple-100 text-purple-800",children:d?.matchType})]})]}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 md:gap-8",children:[(0,b.jsxs)("div",{className:`flex flex-col items-center text-center w-full md:w-1/3 p-4 rounded-lg transition-all ${e&&f?"bg-green-50 border-2 border-green-500":"bg-gray-50"}`,children:[e&&f&&(0,b.jsx)("div",{className:"mb-2",children:(0,b.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-green-500 text-white",children:"ðŸ† Winner"})}),(0,b.jsx)("h1",{className:"text-lg md:text-xl font-bold text-gray-800 mb-4",children:d?.matchType==="Team"?"Team 1":"Player 1"}),(0,b.jsx)("div",{className:"h-24 w-24 md:h-32 md:w-32 rounded-full mb-4 overflow-hidden border-4 border-white shadow-lg",children:(0,b.jsx)(k.default,{src:d?.player1Id?.profileImage||"/images/common/user_placeholder.png",alt:"Player 1",width:200,height:200,className:"h-full w-full object-cover"})}),(0,b.jsx)("h1",{className:"text-lg md:text-xl font-semibold text-gray-800 mt-2 line-clamp-2",children:d?.player1Id?.fullName||"N/A"}),(0,b.jsx)("p",{className:"text-sm md:text-base text-gray-600 mt-1 break-words max-w-full",children:d?.player1Id?.email||"No email"}),e&&(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsx)("span",{className:"text-3xl font-bold text-gray-800",children:d?.player1Score||"0"})})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center px-4",children:[(0,b.jsx)("div",{className:"text-3xl md:text-5xl font-bold text-red-500 mb-2",children:"VS"}),e&&(0,b.jsx)("div",{className:"text-center",children:(0,b.jsxs)("span",{className:"text-2xl font-bold text-gray-700",children:[d?.player1Score||"0"," :"," ",d?.player2Score||"0"]})})]}),(0,b.jsxs)("div",{className:`flex flex-col items-center text-center w-full md:w-1/3 p-4 rounded-lg transition-all ${e&&g?"bg-green-50 border-2 border-green-500":"bg-gray-50"}`,children:[e&&g&&(0,b.jsx)("div",{className:"mb-2",children:(0,b.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-green-500 text-white",children:"ðŸ† Winner"})}),(0,b.jsx)("h1",{className:"text-lg md:text-xl font-bold text-gray-800 mb-4",children:d?.matchType==="Team"?"Team 2":"Player 2"}),(0,b.jsx)("div",{className:"h-24 w-24 md:h-32 md:w-32 rounded-full mb-4 overflow-hidden border-4 border-white shadow-lg",children:(0,b.jsx)(k.default,{src:d?.player2Id?.profileImage||"/images/common/user_placeholder.png",alt:"Player 2",width:200,height:200,className:"h-full w-full object-cover"})}),(0,b.jsx)("h1",{className:"text-lg md:text-xl font-semibold text-gray-800 mt-2 line-clamp-2",children:d?.player2Id?.fullName||"N/A"}),(0,b.jsx)("p",{className:"text-sm md:text-base text-gray-600 mt-1 break-words max-w-full",children:d?.player2Id?.email||"No email"}),e&&(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsx)("span",{className:"text-3xl font-bold text-gray-800",children:d?.player2Score||"0"})})]})]}),d?.date&&(0,b.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 text-gray-600",children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,b.jsx)("span",{className:"text-sm font-medium",children:new Date(d.date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),(0,b.jsx)("span",{className:"text-sm font-medium",children:new Date(d.date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})}),e&&d?.comments&&(0,b.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Match Comments:"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:d.comments})]})]})})})},o=({isModalOpen:a,handleCloseModal:c,matchInfo:d})=>(0,b.jsx)(l.Dialog,{open:a,onOpenChange:c,children:(0,b.jsx)(l.DialogContent,{className:"bg-white lg:max-w-4xl max-w-[95vw] sm:max-w-lg md:max-w-xl",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 md:gap-8 p-4 md:p-6",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center text-center w-full md:w-1/3",children:[(0,b.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-4",children:"Team 1"}),(0,b.jsxs)("div",{className:"flex items-center gap-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"h-24 w-24 md:h-32 md:w-32 rounded-full mb-4 overflow-hidden border-2 border-gray-200",children:(0,b.jsx)(k.default,{src:d?.pair1Id?.player1?.profileImage||"/images/common/user_placeholder.png",alt:"Player 1",width:200,height:200,className:"h-full w-full object-cover"})}),(0,b.jsx)("h1",{className:"text-lg md:text-xl font-semibold text-gray-800 mt-2 line-clamp-2",children:d?.pair1Id?.player1?.fullName||"N/A"}),(0,b.jsx)("p",{className:"text-sm md:text-base text-gray-600 mt-1 break-words max-w-full",children:d?.pair1Id?.player1?.email||"No email"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"h-24 w-24 md:h-32 md:w-32 rounded-full mb-4 overflow-hidden border-2 border-gray-200",children:(0,b.jsx)(k.default,{src:d?.pair1Id?.player2?.profileImage||"/images/common/user_placeholder.png",alt:"Player 1",width:200,height:200,className:"h-full w-full object-cover"})}),(0,b.jsx)("h1",{className:"text-lg md:text-xl font-semibold text-gray-800 mt-2 line-clamp-2",children:d?.pair1Id?.player2?.fullName||"N/A"}),(0,b.jsx)("p",{className:"text-sm md:text-base text-gray-600 mt-1 break-words max-w-full",children:d?.pair1Id?.player2?.email||"No email"})]})]})]}),(0,b.jsx)("div",{className:"hidden md:flex flex-col items-center justify-center px-4",children:(0,b.jsx)("div",{className:"text-3xl md:text-4xl font-bold text-red-500",children:"VS"})}),(0,b.jsx)("div",{className:"md:hidden my-4",children:(0,b.jsx)("div",{className:"text-2xl font-bold text-red-500",children:"VS"})}),(0,b.jsxs)("div",{className:"flex flex-col items-center text-center w-full md:w-1/3",children:[(0,b.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-4",children:"Team 2"}),(0,b.jsxs)("div",{className:"flex items-center gap-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"h-24 w-24 md:h-32 md:w-32 rounded-full mb-4 overflow-hidden border-2 border-gray-200",children:(0,b.jsx)(k.default,{src:d?.pair2Id?.player1?.profileImage||"/images/common/user_placeholder.png",alt:"Player 1",width:200,height:200,className:"h-full w-full object-cover"})}),(0,b.jsx)("h1",{className:"text-lg md:text-xl font-semibold text-gray-800 mt-2 line-clamp-2",children:d?.pair2Id?.player1?.fullName||"N/A"}),(0,b.jsx)("p",{className:"text-sm md:text-base text-gray-600 mt-1 break-words max-w-full",children:d?.pair2Id?.player1?.email||"No email"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"h-24 w-24 md:h-32 md:w-32 rounded-full mb-4 overflow-hidden border-2 border-gray-200",children:(0,b.jsx)(k.default,{src:d?.pair2Id?.player2?.profileImage||"/images/common/user_placeholder.png",alt:"Player 1",width:200,height:200,className:"h-full w-full object-cover"})}),(0,b.jsx)("h1",{className:"text-lg md:text-xl font-semibold text-gray-800 mt-2 line-clamp-2",children:d?.pair2Id?.player2?.fullName||"N/A"}),(0,b.jsx)("p",{className:"text-sm md:text-base text-gray-600 mt-1 break-words max-w-full",children:d?.pair2Id?.player2?.email||"No email"})]})]})]})]})})}),p=({item:a,index:c,getStatusColor:d})=>{let[f,g]=(0,e.useState)(!1),[h,i]=(0,e.useState)(),[j,l]=(0,e.useState)(),n=a?.winner===a?.pair1Id?._id,p=a?.winner===a?.pair2Id?._id;return(0,b.jsxs)("div",{className:"flex items-center gap-5 space-y-5",children:[(0,b.jsx)("div",{className:"font-medium text-gray-500 pt-5",children:c+1<10?`0${c+1}`:c+1}),(0,b.jsxs)("div",{className:"flex-1 shadow-lg rounded-lg overflow-hidden border border-gray-200",children:[(0,b.jsxs)("div",{className:"border-b border-b-gray-300 flex items-center",children:[(0,b.jsxs)("div",{className:`border-r border-gray-300 lg:w-1/2 p-6 flex items-center gap-5 ${n?"bg-[#39674b] text-white":""}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-12 w-12 rounded-full flex items-center justify-center overflow-hidden bg-gray-100",children:a.pair1Id?.player1?.profileImage?(0,b.jsx)(k.default,{src:a.pair1Id?.player1?.profileImage,alt:a.pair1Id?.player1?.fullName,width:1e3,height:1e3,className:"h-full w-full rounded-full object-cover"}):(0,b.jsx)("span",{className:"text-lg font-semibold text-red-800",children:a.pair1Id?.player1?.fullName?.charAt(0)||"P1"})}),(0,b.jsx)("div",{className:"h-12 w-12 rounded-full flex items-center justify-center overflow-hidden bg-gray-100",children:a.pair1Id?.player2?.profileImage?(0,b.jsx)(k.default,{src:a.pair1Id?.player2?.profileImage,alt:a.pair1Id?.player2?.fullName,width:1e3,height:1e3,className:"h-full w-full rounded-full object-cover"}):(0,b.jsx)("span",{className:"text-lg font-semibold text-red-800",children:a.pair1Id?.player2?.fullName?.charAt(0)||"P2"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{children:(0,b.jsx)("h1",{className:"font-semibold",children:a.pair1Id?.player1?.fullName||"Player 1"})}),(0,b.jsx)("div",{children:(0,b.jsx)("h1",{className:"font-semibold",children:a.pair1Id?.player2?.fullName||"Player 2"})})]})]}),(0,b.jsxs)("div",{className:`px-8 flex items-center gap-2 ${n&&"flex-row-reverse"}`,children:[(0,b.jsx)("div",{onClick:()=>{g(!0),i(a)},className:"text-sm text-gray-500 cursor-pointer",children:"VS"}),"completed"===a.status&&(0,b.jsx)("div",{className:"text-sm font-medium text-gray-600",children:(0,b.jsxs)("span",{className:"text-red-700 font-bold text-xl flex",children:[(0,b.jsx)("span",{children:a.pair1Score})," ",(0,b.jsx)("span",{children:" /"})," ",(0,b.jsxs)("span",{children:[" ",a.pair2Score]})]})})]}),(0,b.jsxs)("div",{className:`border-l border-gray-300 lg:w-1/2 p-6 flex items-center gap-5 ${p?"bg-[#39674b] text-white":""}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-12 w-12 rounded-full flex items-center justify-center overflow-hidden bg-gray-100",children:a.pair2Id?.player1?.profileImage?(0,b.jsx)(k.default,{src:a.pair2Id?.player1?.profileImage,alt:a.pair2Id?.player1?.fullName,width:1e3,height:1e3,className:"h-full w-full rounded-full object-cover"}):(0,b.jsx)("span",{className:"text-lg font-semibold text-red-800",children:a.pair2Id?.player1?.fullName?.charAt(0)||"P1"})}),(0,b.jsx)("div",{className:"h-12 w-12 rounded-full flex items-center justify-center overflow-hidden bg-gray-100",children:a.pair2Id?.player2?.profileImage?(0,b.jsx)(k.default,{src:a.pair2Id?.player2?.profileImage,alt:a.pair2Id?.player2?.fullName,width:1e3,height:1e3,className:"h-full w-full rounded-full object-cover"}):(0,b.jsx)("span",{className:"text-lg font-semibold text-red-800",children:a.pair2Id?.player2?.fullName?.charAt(0)||"P2"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{children:(0,b.jsx)("h1",{className:"font-semibold",children:a.pair2Id?.player1?.fullName||"Player 1"})}),(0,b.jsx)("div",{children:(0,b.jsx)("h1",{className:"font-semibold",children:a.pair2Id?.player2?.fullName||"Player 2"})})]})]})]}),(0,b.jsxs)("div",{className:"bg-[#eaeaeecb] py-2 px-4",children:[(0,b.jsxs)("div",{className:`flex flex-col sm:flex-row ${"completed"===a.status?"justify-between":"justify-center"} items-start sm:items-center gap-4`,children:[(0,b.jsx)("div",{}),(0,b.jsxs)("div",{className:"flex items-center gap-5",children:[(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("span",{className:"text-gray-700 text-sm",children:a?.date?new Date(a?.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}):"Date not set"}),(0,b.jsx)("span",{children:", "}),(0,b.jsx)("span",{className:"text-gray-700 text-sm",children:a?.date?new Date(a?.date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):""})]}),(0,b.jsx)("div",{className:"flex items-center gap-3 justify-end",children:(0,b.jsx)("div",{className:`text-sm font-medium px-3 py-1 rounded-full ${d(a.status)}`,children:a.status||"upcoming"})})]}),"completed"===a.status&&(0,b.jsx)("div",{children:(0,b.jsx)("button",{onClick:()=>{l(!0),i(a)},className:"text-primary font-semibold text-sm",children:"Moments"})})]}),f&&(0,b.jsx)(o,{handleCloseModal:()=>{g(!1)},isModalOpen:f,matchInfo:h}),j&&(0,b.jsx)(m,{isModalOpen:j,handleCloseModal:()=>{l(!1)},match:h,pairWinner1:n})]})]})]})};var q=a.i(33508),r=a.i(73320),s=a.i(75003),t=a.i(23292);function u({isOpen:a,onClose:c,match:d,onSuccess:f}){let{data:g}=(0,s.useSession)(),[h,i]=(0,e.useState)(!1),[j,l]=(0,e.useState)(""),[m,n]=(0,e.useState)(""),[o,p]=(0,e.useState)(""),[u,v]=(0,e.useState)(""),[w,x]=(0,e.useState)(""),[y,z]=(0,e.useState)(""),[A,B]=(0,e.useState)(null),[C,D]=(0,e.useState)(""),E=async a=>{if(a.preventDefault(),!d)return void t.toast.error("Match information is missing");i(!0);try{let a=g?.user?.accessToken||"";if(!a)return void t.toast.error("You must be logged in");if(!j)return void t.toast.error("Please select a winner");if(!m||!o)return void t.toast.error("Please enter both scores");let b=parseInt(m),e=parseInt(o);if(j===d?.player1Id?._id&&b<=e||j===d?.player2Id?._id&&e<=b)return void t.toast.error("Winner score must be higher than opponent");let h=new FormData;h.append("player1Score",m),h.append("player2Score",o),h.append("winner",j),h.append("status","Completed"),u&&h.append("location",u),w&&h.append("date",new Date(w).toISOString()),y&&h.append("comments",y),A&&h.append("photo",A);let i=await fetch(`http://localhost:5000/api/match/${d?._id}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`},body:h}),k=await i.json();if(!i.ok)return void t.toast.error(k?.message||"Failed to update match");t.toast.success("Match result saved successfully!"),f?.(),c()}catch(a){console.error("Error updating match:",a),t.toast.error("Something went wrong. Please try again.")}finally{i(!1)}};return a&&d?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsx)("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[85vh] overflow-y-auto",children:(0,b.jsxs)("form",{onSubmit:E,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-center text-red-700",children:"Enter Result"}),(0,b.jsx)("button",{type:"button",onClick:c,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:(0,b.jsx)(q.X,{size:24})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Select Winner"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{onClick:()=>l(d?.player1Id?._id||""),className:`flex items-center gap-3 p-4 border-2 rounded-lg cursor-pointer transition-all ${j===d?.player1Id?._id?"border-green-600 bg-green-50":"border-gray-300 hover:border-gray-400"}`,children:[(0,b.jsx)("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${j===d?.player1Id?._id?"border-green-600 bg-green-600":"border-gray-300"}`,children:j===d?.player1Id?._id&&(0,b.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})}),(0,b.jsx)("span",{className:"font-medium text-gray-900",children:d?.player1Id?.fullName||"Player 1"})]}),(0,b.jsxs)("div",{onClick:()=>l(d?.player2Id?._id||""),className:`flex items-center gap-3 p-4 border-2 rounded-lg cursor-pointer transition-all ${j===d?.player2Id?._id?"border-green-600 bg-green-50":"border-gray-300 hover:border-gray-400"}`,children:[(0,b.jsx)("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${j===d?.player2Id?._id?"border-green-600 bg-green-600":"border-gray-300"}`,children:j===d?.player2Id?._id&&(0,b.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})}),(0,b.jsx)("span",{className:"font-medium text-gray-900",children:d?.player2Id?.fullName||"Player 2"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d?.player1Id?.fullName||"Player 1"," Score"]}),(0,b.jsx)("input",{type:"number",min:"0",value:m,onChange:a=>n(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter score",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d?.player2Id?.fullName||"Player 2"," Score"]}),(0,b.jsx)("input",{type:"number",min:"0",value:o,onChange:a=>p(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter score",required:!0})]})]}),m&&o&&(0,b.jsx)("div",{className:"text-center",children:(0,b.jsxs)("span",{className:"text-red-700 font-bold text-2xl",children:[m," / ",o]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Location"}),(0,b.jsx)("input",{type:"text",value:u,onChange:a=>v(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Collingtree Park GC"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Date/Time"}),(0,b.jsx)("input",{type:"datetime-local",value:w,onChange:a=>x(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Match Play Moments Report"}),(0,b.jsx)("textarea",{value:y,onChange:a=>z(a.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 resize-none",placeholder:"Very Close match played against 2 great players"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Match Photo"}),(0,b.jsx)("div",{onDragOver:a=>{a.preventDefault()},onDrop:a=>{a.preventDefault();let b=a.dataTransfer.files?.[0];if(b&&b.type.startsWith("image/")){B(b);let a=new FileReader;a.onloadend=()=>{D(a.result)},a.readAsDataURL(b)}},className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors",children:C?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(k.default,{src:C,alt:"Preview",width:200,height:200,className:"mx-auto rounded-lg object-cover"}),(0,b.jsx)("button",{type:"button",onClick:()=>{B(null),D("")},className:"text-sm text-red-600 hover:text-red-700",children:"Remove"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.Upload,{className:"mx-auto text-gray-400 mb-3",size:40}),(0,b.jsx)("p",{className:"text-gray-600 mb-1",children:"Drag and drop files here"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"or click to browse"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>{let b=a.target.files?.[0];if(b){B(b);let a=new FileReader;a.onloadend=()=>{D(a.result)},a.readAsDataURL(b)}},className:"hidden",id:"photo-upload"}),(0,b.jsx)("label",{htmlFor:"photo-upload",className:"inline-block px-4 py-2 bg-gray-100 text-gray-700 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors",children:"Browse Files"})]})})]})]}),(0,b.jsxs)("div",{className:"flex gap-4 p-6 border-t",children:[(0,b.jsx)("button",{type:"button",onClick:c,disabled:h,className:"flex-1 px-6 py-3 border-2 border-red-600 text-red-600 rounded-lg font-semibold hover:bg-red-50 transition-colors disabled:opacity-50",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:h,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors disabled:opacity-50",children:h?"Saving...":"Save"})]})]})})}):null}let v=a=>{switch(a?.toLowerCase()){case"upcoming":return"bg-blue-100 text-blue-800";case"in progress":case"in_progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=({matches:a,isLoading:c,refetchMatches:d})=>{let[f,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)(!1),[l,o]=(0,e.useState)(!1),[q,r]=(0,e.useState)(null),[s,t]=(0,e.useState)(!1),w=a=>{o(!0),r(a)};return c?(0,b.jsx)("div",{className:"space-y-6",children:[1,2,3].map(a=>(0,b.jsxs)("div",{className:"flex items-start gap-5 space-y-8",children:[(0,b.jsx)(g,{className:"h-6 w-8 rounded-md"}),(0,b.jsxs)("div",{className:"flex-1 shadow-lg rounded-lg overflow-hidden ",children:[(0,b.jsxs)("div",{className:"pl-4 pr-4 border-b border-b-gray-300 flex items-center",children:[(0,b.jsx)("div",{className:"border-r border-gray-300 lg:w-1/2 p-5",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g,{className:"h-12 w-12 rounded-full"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g,{className:"h-4 w-32"}),(0,b.jsx)(g,{className:"h-3 w-16"})]})]})}),(0,b.jsx)("div",{className:"px-8",children:(0,b.jsx)(g,{className:"h-6 w-8"})}),(0,b.jsx)("div",{className:"border-l border-gray-300 lg:w-1/2 flex justify-end p-5",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:"space-y-2 text-right",children:[(0,b.jsx)(g,{className:"h-4 w-32 ml-auto"}),(0,b.jsx)(g,{className:"h-3 w-16 ml-auto"})]}),(0,b.jsx)(g,{className:"h-12 w-12 rounded-full"})]})})]}),(0,b.jsx)("div",{className:"bg-[#f9fafb] p-4",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g,{className:"h-4 w-40"}),(0,b.jsx)(g,{className:"h-3 w-24"})]}),(0,b.jsxs)("div",{className:"space-y-2 text-right",children:[(0,b.jsx)(g,{className:"h-4 w-48"}),(0,b.jsx)(g,{className:"h-3 w-20 ml-auto"})]})]})})]})]},a))}):a&&0!==a.length?(0,b.jsxs)("div",{className:"space-y-6",children:[a.map((a,c)=>{let d=a?.winner===a?.player1Id?._id,e=a?.winner===a?.player2Id?._id;return(0,b.jsx)("div",{children:a?.matchType==="Single"||a?.matchType==="Team"?(0,b.jsxs)("div",{className:"flex items-center gap-5 space-y-5",children:[(0,b.jsx)("div",{className:"font-medium text-gray-500 pt-5",children:c+1<10?`0${c+1}`:c+1}),(0,b.jsxs)("div",{className:"flex-1 shadow-lg rounded-lg overflow-hidden border border-gray-200",children:[(0,b.jsxs)("div",{className:"border-b border-b-gray-300 flex items-center",children:[(0,b.jsx)("div",{className:`border-r border-gray-300 lg:w-1/2 p-6 ${d?"bg-[#39674b] text-white":""}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-12 w-12 rounded-full flex items-center justify-center overflow-hidden bg-gray-100",children:a.player1Id?.profileImage?(0,b.jsx)(k.default,{src:a.player1Id.profileImage,alt:a.player1Id.fullName,width:1e3,height:1e3,className:"h-full w-full rounded-full object-cover"}):(0,b.jsx)("span",{className:"text-lg font-semibold text-red-800",children:a.player1Id?.fullName?.charAt(0)||"P1"})}),(0,b.jsx)("div",{children:(0,b.jsx)("h1",{className:"font-semibold",children:a.player1Id?.fullName||"Player 1"})})]})}),(0,b.jsxs)("div",{className:`px-8 flex items-center gap-2 ${d&&"flex-row-reverse"}`,children:[(0,b.jsx)("div",{onClick:()=>{j(!0),r(a)},className:"text-sm text-gray-500 cursor-pointer hover:text-gray-700 transition-colors",children:"VS"}),"completed"===a.status&&(0,b.jsx)("div",{className:"text-sm font-medium text-gray-600",children:(0,b.jsxs)("span",{className:"text-red-700 font-bold text-xl flex",children:[(0,b.jsx)("span",{children:a.player1Score})," ",(0,b.jsx)("span",{children:" /"})," ",(0,b.jsxs)("span",{children:[" ",a.player2Score]})]})})]}),(0,b.jsx)("div",{className:`border-l border-gray-300 lg:w-1/2 flex justify-end p-6 ${e&&"bg-[#39674b] text-white"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"text-right",children:(0,b.jsx)("h1",{className:"font-semibold",children:a.player2Id?.fullName||"Player 2"})}),(0,b.jsx)("div",{className:"h-12 w-12 rounded-full flex items-center justify-center overflow-hidden bg-gray-100",children:a.player2Id?.profileImage?(0,b.jsx)(k.default,{src:a.player2Id.profileImage,alt:a.player2Id.fullName,width:1e3,height:1e3,className:"h-full w-full rounded-full object-cover"}):(0,b.jsx)("span",{className:"text-lg font-semibold text-red-800",children:a.player2Id?.fullName?.charAt(0)||"P2"})})]})})]}),(0,b.jsx)("div",{className:"bg-[#eaeaeecb] py-2 px-4",children:(0,b.jsxs)("div",{className:`flex flex-col sm:flex-row ${"completed"===a.status?"justify-between":"justify-center"} items-start sm:items-center gap-4`,children:[(0,b.jsx)("div",{}),(0,b.jsxs)("div",{className:"flex items-center gap-5",children:[(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("span",{className:"text-gray-700 text-sm",children:a?.date?new Date(a?.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}):"Date not set"}),(0,b.jsx)("span",{children:", "}),(0,b.jsx)("span",{className:"text-gray-700 text-sm",children:a?.date?new Date(a?.date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):""})]}),(0,b.jsx)("div",{className:"flex items-center gap-3 justify-end",children:(0,b.jsx)("div",{className:`text-sm font-medium px-3 py-1 rounded-full ${v(a.status)}`,children:a.status||"upcoming"})})]}),(0,b.jsx)("div",{className:"flex items-center gap-3",children:"completed"===a.status||"Completed"===a.status?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>{h(!0),r(a),t(d)},className:"text-primary font-semibold text-sm hover:text-red-700 transition-colors",children:"Moments"}),(0,b.jsx)("button",{onClick:()=>w(a),className:"text-blue-600 font-semibold text-sm hover:text-blue-700 transition-colors",children:"Edit Result"})]}):(0,b.jsx)("button",{onClick:()=>w(a),className:"text-primary font-semibold text-sm hover:text-red-700 transition-colors",children:"Enter Result"})})]})})]})]}):(0,b.jsx)(p,{item:a,getStatusColor:v,index:c})},a._id)}),f&&q&&(0,b.jsx)(m,{isModalOpen:f,handleCloseModal:()=>{h(!1)},match:q,winner1:s}),i&&q&&(0,b.jsx)(n,{isModalOpen:i,handleCloseModal:()=>{j(!1)},matchInfo:q}),l&&q&&(0,b.jsx)(u,{isOpen:l,onClose:()=>{o(!1)},match:q,onSuccess:()=>{d?.()}})]}):(0,b.jsxs)("div",{className:"text-center py-10",children:[(0,b.jsx)("div",{className:"text-gray-500 text-lg",children:"No matches found"}),(0,b.jsx)("p",{className:"text-gray-400 mt-2",children:"Create a match to get started"})]})},x=()=>{let a=(0,d.useParams)(),f=a?.id,[g,i]=(0,e.useState)("draw"),{data:k,isLoading:l}=(0,c.useQuery)({queryKey:["tournaments"],queryFn:async()=>{let a=await fetch(`http://localhost:5000/api/tournament/getAllMatches/${f}`),b=await a.json();return b?.data}});return(0,b.jsx)("div",{className:"p-6",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-8 border-b-[1px] border-gray-300",children:[(0,b.jsx)("button",{className:`text-gray-500 py-2 px-4 rounded-t-lg ${"draw"===g&&"text-primary font-bold bg-primary/15 border-b-2 border-primary"}`,onClick:()=>i("draw"),children:"Draw"}),(0,b.jsx)("button",{className:`text-gray-500 py-2 px-4 rounded-t-lg ${"rules"===g&&"text-primary font-bold bg-primary/15 border-b-2 border-primary"}`,onClick:()=>i("rules"),children:"Rules"}),(0,b.jsx)("button",{className:`text-gray-500 py-2 px-4 rounded-t-lg ${"details"===g&&"text-primary font-bold bg-primary/15 border-b-2 border-primary"}`,onClick:()=>i("details"),children:"Details"})]}),(0,b.jsxs)("div",{className:"mt-8",children:["draw"===g&&(0,b.jsx)("div",{children:(0,b.jsx)(w,{matches:k?.matches,isLoading:l})}),"rules"===g&&(0,b.jsx)("div",{children:(0,b.jsx)(h,{rules:k?.tournament?.rules,isLoading:l})}),"details"===g&&(0,b.jsx)("div",{children:(0,b.jsx)(j,{tournament:k?.tournament,isLoading:l})})]})]})})}}];

//# sourceMappingURL=b3032_tournament-details_%5Bid%5D__components_tournaments-details_tsx_d3ee31e2._.js.map