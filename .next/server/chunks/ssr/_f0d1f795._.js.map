{"version":3,"sources":["turbopack:///[project]/node_modules/lucide-react/src/icons/plus.ts","turbopack:///[project]/src/app/admin-dashboard/matches-management/_components/matches-management-container.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n];\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('plus', __iconNode);\n\nexport default Plus;\n","'use client'\nimport React, { useState } from 'react'\n\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table'\nimport { Plus, Trash } from 'lucide-react'\n\nimport { Input } from '@/components/ui/input'\nimport DeleteModal from '@/components/modals/delete-modal'\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query'\nimport { toast } from 'sonner'\n\nimport { useSession } from 'next-auth/react'\nimport { MatchApiResponse } from './matches-data-type'\nimport moment from 'moment'\nimport Link from 'next/link'\nimport { useDebounce } from '@/hooks/useDebounce'\nimport TableSkeleton from '@/components/reusable/TableSkeleton'\nimport ErrorContainer from '@/components/ErrorContainer/ErrorContainer'\nimport NotFound from '@/components/reusable/not-found-data'\nimport MatchPlayGolfPagination from '@/components/ui/match-play-golf-pagination'\n\nconst MatchesManagementContainer = () => {\n  const [currentPage, setCurrentPage] = useState(1)\n  const [search, setSearch] = useState('')\n  const [deleteModalOpen, setDeleteModalOpen] = useState(false)\n  const [matchId, setMatchId] = useState('')\n  const debouncedSearch = useDebounce(search, 500)\n\n  const queryClient = useQueryClient()\n  const session = useSession()\n  const token = (session?.data?.user as { accessToken: string })?.accessToken\n  console.log(token)\n\n  console.log(search)\n\n  // get tournament api\n  const { data, isLoading, isError, error } = useQuery<MatchApiResponse>({\n    queryKey: ['matches', currentPage, debouncedSearch],\n    queryFn: async () => {\n      const res = await fetch(\n        `${process.env.NEXT_PUBLIC_BACKEND_URL}/match?page=${currentPage}&limit=8&tournamentName=${debouncedSearch}`,\n      )\n      return res.json()\n    },\n  })\n\n  let content\n\n  if (isLoading) {\n    content = (\n      <div>\n        <TableSkeleton />\n      </div>\n    )\n  } else if (isError) {\n    content = (\n      <div>\n        <ErrorContainer message={error?.message || 'Something went wrong'} />\n      </div>\n    )\n  } else if (\n    data &&\n    data?.data &&\n    data?.data?.matches &&\n    data?.data?.matches?.length === 0\n  ) {\n    content = (\n      <div>\n        <NotFound message=\"Oops! No data available. Modify your filters or check your internet connection.\" />\n      </div>\n    )\n  } else if (\n    data &&\n    data?.data &&\n    data?.data?.matches &&\n    data?.data?.matches?.length > 0\n  ) {\n    content = (\n      <div>\n        <Table className=\"\">\n          <TableHeader className=\"bg-[#FCE7E9] rounded-t-[12px]\">\n            <TableRow className=\"\">\n              <TableHead className=\"text-sm font-normal leading-[150%] text-[#343A40] text-center py-4 pl-6\">\n                Tournament Name\n              </TableHead>\n              <TableHead className=\"text-sm font-normal leading-[150%] text-[#343A40] text-center py-4 \">\n                Round\n              </TableHead>\n              <TableHead className=\"text-sm font-normal leading-[150%] text-[#343A40] text-center py-4 \">\n                Player 1\n              </TableHead>\n              <TableHead className=\"text-sm font-normal leading-[150%] text-[#343A40] text-center py-4 \">\n                Player 2\n              </TableHead>\n              <TableHead className=\"text-sm font-normal leading-[150%] text-[#343A40] text-center py-4 \">\n                Score\n              </TableHead>\n              <TableHead className=\"text-sm font-normal leading-[150%] text-[#343A40] text-center py-4 \">\n                Date\n              </TableHead>\n              <TableHead className=\"text-sm font-normal leading-[150%] text-[#343A40] text-center py-4 \">\n                Status\n              </TableHead>\n              <TableHead className=\"text-sm font-normal leading-[150%] text-[#343A40] text-center py-4\">\n                Action\n              </TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody className=\"border-b border-x border-[#E6E7E6] rounded-b-[12px]\">\n            {data?.data?.matches?.map(item => {\n              return (\n                <TableRow key={item?._id} className=\"\">\n                  <TableCell className=\"text-base font-normal text-[#68706A] leading-[150%] text-center py-4\">\n                    {item?.tournamentId?.tournamentName}\n                  </TableCell>\n                  <TableCell className=\"text-base font-normal text-[#68706A] leading-[150%] text-center py-4\">\n                    {item?.roundId?.roundName}\n                  </TableCell>\n                  <TableCell className=\"text-base font-normal text-[#68706A] leading-[150%] text-center py-4\">\n                    {item?.player1Id?.fullName}\n                  </TableCell>\n                  <TableCell className=\"text-base font-medium text-[#343A40] leading-[150%] text-center py-4\">\n                    {item?.player2Id?.fullName}\n                  </TableCell>\n                  <TableCell className=\"text-base font-normal text-[#68706A] leading-[150%] text-center py-4\">\n                    {item?.score}\n                  </TableCell>\n                  <TableCell className=\"text-base font-medium text-[#343A40] leading-[150%] text-center py-4\">\n                    {moment(item?.createdAt).format('MMM DD YYYY')}\n                  </TableCell>\n\n                  <TableCell className=\"text-base font-medium text-[#68706A] leading-[150%] text-center py-4\">\n                    <button\n                      className={`w-[140px] h-[40px] ${\n                        item?.status === 'Ongoing'\n                          ? 'bg-[#E6FAEE] text-[#27BE69] py-2 px-4'\n                          : item?.status === 'Upcoming'\n                          ? 'bg-[#EFF6FF] text-[#2563EB] py-2 px-4'\n                          : 'bg-[#E8E8E8] text-[#6C757D] py-2 px-4'\n                      }`}\n                    >\n                      {item?.status}\n                    </button>\n                  </TableCell>\n                  <TableCell className=\"flex items-center justify-center gap-6 py-4\">\n                    <button\n                      onClick={() => {\n                        setDeleteModalOpen(true)\n                        setMatchId(item?._id)\n                      }}\n                      className=\"cursor-pointer\"\n                    >\n                      <Trash className=\"h-6 w-6 text-primary\" />\n                    </button>\n                  </TableCell>\n                </TableRow>\n              )\n            })}\n          </TableBody>\n        </Table>\n      </div>\n    )\n  }\n\n  console.log(data)\n\n  // delete match api\n  const { mutate } = useMutation({\n    mutationKey: ['delete-match'],\n    mutationFn: async (id: string) => {\n      const res = await fetch(\n        `${process.env.NEXT_PUBLIC_BACKEND_URL}/match/${id}`,\n        {\n          method: 'DELETE',\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${token}`,\n          },\n        },\n      )\n      return res.json()\n    },\n    onSuccess: data => {\n      if (!data?.success) {\n        toast.error(data?.message || 'Something went wrong')\n        return\n      }\n      toast.success(data?.message || 'Matches deleted successfully')\n      queryClient.invalidateQueries({ queryKey: ['matches'] })\n    },\n  })\n\n  const handleDelete = () => {\n    if (matchId) {\n      mutate(matchId)\n    }\n    setDeleteModalOpen(false)\n  }\n\n  return (\n    <div>\n      {/* table container */}\n      <div className=\"p-6 space-y-6\">\n        {/* table header  */}\n        <div className=\"w-full flex items-center justify-between\">\n          <div>\n            <Input\n              type=\"search\"\n              className=\"w-[479px] h-[48px] border border-[#C0C3C1] rounded-[4px] outline-none right-0 text-base font-medium leading-[120%] text-[#343A40]\"\n              value={search}\n              onChange={e => setSearch(e.target.value)}\n              placeholder=\"Search...\"\n            />\n          </div>\n          <div>\n            <Link href=\"/admin-dashboard/matches-management/create-match\">\n              <button className=\"flex items-center gap-2 bg-[#DF1020] py-3 px-9 rounded-[8px] text-[#F8F9FA] text-base font-medium leading-[150%] \">\n                <Plus /> Create Match\n              </button>\n            </Link>\n          </div>\n        </div>\n\n        {/* table  */}\n        <div>{content}</div>\n\n        {/* pagination  */}\n        {data &&\n          data?.data &&\n          data?.data?.pagination &&\n          data?.data?.pagination?.totalPages > 1 && (\n            <div className=\"w-full flex items-center justify-between py-6\">\n              <p className=\"text-base font-normal text-[#68706A] leading-[150%]\">\n                Showing {currentPage} to 8 of {data?.data?.pagination?.total}{' '}\n                results\n              </p>\n              <div>\n                <MatchPlayGolfPagination\n                  currentPage={currentPage}\n                  totalPages={data?.data?.pagination?.total}\n                  onPageChange={page => setCurrentPage(page)}\n                />\n              </div>\n            </div>\n          )}\n\n        {/* delete modal  */}\n        {deleteModalOpen && (\n          <DeleteModal\n            isOpen={deleteModalOpen}\n            onClose={() => setDeleteModalOpen(false)}\n            onConfirm={handleDelete}\n            title=\"Are You Sure?\"\n            desc=\"Are you sure you want to delete this match?\"\n          />\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default MatchesManagementContainer\n"],"names":[],"mappings":"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","ignoreList":[0]}