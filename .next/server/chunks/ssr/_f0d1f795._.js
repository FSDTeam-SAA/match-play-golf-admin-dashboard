module.exports=[15618,a=>{"use strict";a.s(["Plus",()=>b],15618);let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},68071,a=>{"use strict";a.s(["default",()=>u]);var b=a.i(87924),c=a.i(72131),d=a.i(6015),e=a.i(15618),f=a.i(17201),g=a.i(66718),h=a.i(68698),i=a.i(70025),j=a.i(33217),k=a.i(37927),l=a.i(23292),m=a.i(75003),n=a.i(18213),o=a.i(38246),p=a.i(55090),q=a.i(47913),r=a.i(33896),s=a.i(29758),t=a.i(61394);let u=()=>{let a,[u,v]=(0,c.useState)(1),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(""),C=(0,p.useDebounce)(w,500),D=(0,k.useQueryClient)(),E=(0,m.useSession)(),F=E?.data?.user?.accessToken;console.log(F),console.log(w);let{data:G,isLoading:H,isError:I,error:J}=(0,j.useQuery)({queryKey:["matches",u,C],queryFn:async()=>(await fetch(`http://localhost:5000/api/match?page=${u}&limit=8&tournamentName=${C}`)).json()});H?a=(0,b.jsx)("div",{children:(0,b.jsx)(q.default,{})}):I?a=(0,b.jsx)("div",{children:(0,b.jsx)(r.default,{message:J?.message||"Something went wrong"})}):G&&G?.data&&G?.data?.matches&&G?.data?.matches?.length===0?a=(0,b.jsx)("div",{children:(0,b.jsx)(s.default,{message:"Oops! No data available. Modify your filters or check your internet connection."})}):G&&G?.data&&G?.data?.matches&&G?.data?.matches?.length>0&&(a=(0,b.jsx)("div",{children:(0,b.jsxs)(d.Table,{className:"",children:[(0,b.jsx)(d.TableHeader,{className:"bg-[#FCE7E9] rounded-t-[12px]",children:(0,b.jsxs)(d.TableRow,{className:"",children:[(0,b.jsx)(d.TableHead,{className:"text-sm font-normal leading-[150%] text-[#343A40] text-center py-4 pl-6",children:"Tournament Name"}),(0,b.jsx)(d.TableHead,{className:"text-sm font-normal leading-[150%] text-[#343A40] text-center py-4 ",children:"Round"}),(0,b.jsx)(d.TableHead,{className:"text-sm font-normal leading-[150%] text-[#343A40] text-center py-4 ",children:"Player 1"}),(0,b.jsx)(d.TableHead,{className:"text-sm font-normal leading-[150%] text-[#343A40] text-center py-4 ",children:"Player 2"}),(0,b.jsx)(d.TableHead,{className:"text-sm font-normal leading-[150%] text-[#343A40] text-center py-4 ",children:"Score"}),(0,b.jsx)(d.TableHead,{className:"text-sm font-normal leading-[150%] text-[#343A40] text-center py-4 ",children:"Date"}),(0,b.jsx)(d.TableHead,{className:"text-sm font-normal leading-[150%] text-[#343A40] text-center py-4 ",children:"Status"}),(0,b.jsx)(d.TableHead,{className:"text-sm font-normal leading-[150%] text-[#343A40] text-center py-4",children:"Action"})]})}),(0,b.jsx)(d.TableBody,{className:"border-b border-x border-[#E6E7E6] rounded-b-[12px]",children:G?.data?.matches?.map(a=>(0,b.jsxs)(d.TableRow,{className:"",children:[(0,b.jsx)(d.TableCell,{className:"text-base font-normal text-[#68706A] leading-[150%] text-center py-4",children:a?.tournamentId?.tournamentName}),(0,b.jsx)(d.TableCell,{className:"text-base font-normal text-[#68706A] leading-[150%] text-center py-4",children:a?.roundId?.roundName}),(0,b.jsx)(d.TableCell,{className:"text-base font-normal text-[#68706A] leading-[150%] text-center py-4",children:a?.player1Id?.fullName}),(0,b.jsx)(d.TableCell,{className:"text-base font-medium text-[#343A40] leading-[150%] text-center py-4",children:a?.player2Id?.fullName}),(0,b.jsx)(d.TableCell,{className:"text-base font-normal text-[#68706A] leading-[150%] text-center py-4",children:a?.score}),(0,b.jsx)(d.TableCell,{className:"text-base font-medium text-[#343A40] leading-[150%] text-center py-4",children:(0,n.default)(a?.createdAt).format("MMM DD YYYY")}),(0,b.jsx)(d.TableCell,{className:"text-base font-medium text-[#68706A] leading-[150%] text-center py-4",children:(0,b.jsx)("button",{className:`w-[140px] h-[40px] ${a?.status==="Ongoing"?"bg-[#E6FAEE] text-[#27BE69] py-2 px-4":a?.status==="Upcoming"?"bg-[#EFF6FF] text-[#2563EB] py-2 px-4":"bg-[#E8E8E8] text-[#6C757D] py-2 px-4"}`,children:a?.status})}),(0,b.jsx)(d.TableCell,{className:"flex items-center justify-center gap-6 py-4",children:(0,b.jsx)("button",{onClick:()=>{z(!0),B(a?._id)},className:"cursor-pointer",children:(0,b.jsx)(f.Trash,{className:"h-6 w-6 text-primary"})})})]},a?._id))})]})})),console.log(G);let{mutate:K}=(0,i.useMutation)({mutationKey:["delete-match"],mutationFn:async a=>(await fetch(`http://localhost:5000/api/match/${a}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`}})).json(),onSuccess:a=>{if(!a?.success)return void l.toast.error(a?.message||"Something went wrong");l.toast.success(a?.message||"Matches deleted successfully"),D.invalidateQueries({queryKey:["matches"]})}});return(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,b.jsx)("div",{children:(0,b.jsx)(g.Input,{type:"search",className:"w-[479px] h-[48px] border border-[#C0C3C1] rounded-[4px] outline-none right-0 text-base font-medium leading-[120%] text-[#343A40]",value:w,onChange:a=>x(a.target.value),placeholder:"Search..."})}),(0,b.jsx)("div",{children:(0,b.jsx)(o.default,{href:"/admin-dashboard/matches-management/create-match",children:(0,b.jsxs)("button",{className:"flex items-center gap-2 bg-[#DF1020] py-3 px-9 rounded-[8px] text-[#F8F9FA] text-base font-medium leading-[150%] ",children:[(0,b.jsx)(e.Plus,{})," Create Match"]})})})]}),(0,b.jsx)("div",{children:a}),G&&G?.data&&G?.data?.pagination&&G?.data?.pagination?.totalPages>1&&(0,b.jsxs)("div",{className:"w-full flex items-center justify-between py-6",children:[(0,b.jsxs)("p",{className:"text-base font-normal text-[#68706A] leading-[150%]",children:["Showing ",u," to 8 of ",G?.data?.pagination?.total," ","results"]}),(0,b.jsx)("div",{children:(0,b.jsx)(t.default,{currentPage:u,totalPages:G?.data?.pagination?.total,onPageChange:a=>v(a)})})]}),y&&(0,b.jsx)(h.default,{isOpen:y,onClose:()=>z(!1),onConfirm:()=>{A&&K(A),z(!1)},title:"Are You Sure?",desc:"Are you sure you want to delete this match?"})]})})}}];

//# sourceMappingURL=_f0d1f795._.js.map