module.exports=[37839,a=>{"use strict";a.s(["default",()=>s],37839);var b=a.i(21535),c=a.i(7765),d=a.i(30629),e=a.i(87175),f=a.i(79512),g=a.i(7508),h=a.i(14324);let i=(0,a.i(40757).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var j=a.i(11335),k=a.i(19506),l=a.i(41038),m=a.i(28134),n=a.i(22782),o=a.i(14133),p=a.i(58201),q=a.i(93264);function r({podcasts:a,onView:d,onEdit:f,onDelete:g,isLoading:h,currentPage:j,totalPages:m,totalData:r,hasNextPage:s,hasPrevPage:t,onPageChange:u}){let[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(!1);return h?(0,b.jsx)(q.default,{}):a?(0,b.jsxs)("div",{className:"bg-white rounded-lg border",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thumbnail"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Media Name"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Link"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("div",{className:"w-16 h-16 relative rounded-lg overflow-hidden border",children:a.uploadThumbnail?(0,b.jsx)(l.default,{src:a.uploadThumbnail,alt:a.title||"Podcast thumbnail",fill:!0,className:"object-cover",sizes:"64px"}):(0,b.jsx)("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-gray-400",children:(0,b.jsx)("span",{className:"text-xs",children:"No Image"})})})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("div",{className:"max-w-xs",children:(0,b.jsx)("span",{className:"font-medium text-gray-900 line-clamp-2",children:a.title})})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:a.mediaName||"-"})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:a.linkUrl?(0,b.jsxs)("a",{href:a.linkUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-blue-600 hover:text-blue-800 hover:underline",children:[(0,b.jsx)("span",{className:"truncate max-w-[150px]",children:a.linkName||"Visit Link"}),(0,b.jsx)(i,{className:"w-3 h-3 flex-shrink-0"})]}):(0,b.jsx)("span",{className:"text-gray-400",children:"No link"})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:a.createdAt?new Date(a.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-"}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>d(a),className:"text-blue-600 hover:text-blue-800 transition-colors p-1 rounded",title:"View",children:(0,b.jsx)(p.Eye,{className:"w-5 h-5 cursor-pointer"})}),(0,b.jsx)("button",{onClick:()=>f(a),className:"text-green-600 hover:text-green-800 transition-colors p-1 rounded",title:"Edit",children:(0,b.jsx)(n.Edit,{className:"w-5 h-5 cursor-pointer"})}),(0,b.jsx)("button",{onClick:()=>{w(a),y(!0)},className:"text-red-600 hover:text-red-800 transition-colors p-1 rounded",title:"Delete",children:(0,b.jsx)(o.Trash2,{className:"w-5 h-5 cursor-pointer"})})]})})]},a._id))})]})}),(0,b.jsx)(k.Dialog,{open:x,onOpenChange:y,children:(0,b.jsxs)(k.DialogContent,{children:[(0,b.jsxs)(k.DialogHeader,{children:[(0,b.jsx)(k.DialogTitle,{children:"Confirm Deletion"}),(0,b.jsxs)(k.DialogDescription,{children:['Are you sure you want to delete the podcast "',v?.title,'"? This action cannot be undone.']})]}),(0,b.jsxs)(k.DialogFooter,{children:[(0,b.jsx)(k.DialogClose,{asChild:!0,children:(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>{y(!1),w(null)},children:"Cancel"})}),(0,b.jsx)(e.Button,{variant:"destructive",onClick:()=>{v&&(g(v._id),w(null),y(!1))},children:"Confirm Delete"})]})]})}),m>0&&(0,b.jsxs)("div",{className:"bg-white px-6 py-4 flex items-center justify-between border-t border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[(0,b.jsxs)("span",{children:["Showing page ",j," of ",m]}),(0,b.jsx)("span",{className:"text-gray-400",children:"â€¢"}),(0,b.jsxs)("span",{children:[r," total podcasts"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("button",{onClick:()=>u(j-1),disabled:!t,className:`px-3 py-2 rounded border text-sm font-medium ${t?"text-gray-700 border-gray-300 hover:bg-gray-50":"text-gray-400 border-gray-200 cursor-not-allowed"}`,children:"Previous"}),(function(){let a=[];if(m<=5)for(let b=1;b<=m;b++)a.push(b);else if(j<=3){for(let b=1;b<=3;b++)a.push(b);a.push("..."),a.push(m)}else if(j>=m-2){a.push(1),a.push("...");for(let b=m-2;b<=m;b++)a.push(b)}else a.push(1),a.push("..."),a.push(j-1),a.push(j),a.push(j+1),a.push("..."),a.push(m);return a})().map((a,c)=>(0,b.jsx)("button",{onClick:()=>"number"==typeof a&&u(a),disabled:"..."===a,className:`px-3 py-2 rounded border text-sm font-medium min-w-[40px] ${a===j?"bg-blue-600 text-white border-blue-600":"..."===a?"text-gray-400 border-gray-200 cursor-default":"text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:a},c)),(0,b.jsx)("button",{onClick:()=>u(j+1),disabled:!s,className:`px-3 py-2 rounded border text-sm font-medium ${s?"text-gray-700 border-gray-300 hover:bg-gray-50":"text-gray-400 border-gray-200 cursor-not-allowed"}`,children:"Next"})]})]})]}):(0,b.jsxs)("div",{className:"text-center py-8 text-gray-500 bg-gray-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-lg",children:"No podcasts found"}),(0,b.jsx)("p",{className:"text-sm mt-1",children:"Create your first podcast to get started"})]})}function s(){let a=(0,d.useRouter)(),[n,o]=(0,c.useState)(1),[p,q]=(0,c.useState)(!1),[s,t]=(0,c.useState)(null),u=(0,m.useSession)(),v=u.data?.user?.accessToken||"",{data:w,isLoading:x,error:y,refetch:z}=(0,j.useGetPodcasts)(v,n,10),{mutate:A,isPending:B}=(0,j.useDeletePodcast)(v);(0,c.useEffect)(()=>{v&&z()},[v,n]);let C=w?.data?.podcasts||[],D=w?.data?.pagination;return y?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:(0,b.jsx)(f.Card,{className:"w-full max-w-md",children:(0,b.jsxs)(f.CardContent,{className:"pt-6 text-center",children:[(0,b.jsx)("div",{className:"text-red-500 text-lg font-semibold mb-2",children:"Error Loading Podcasts"}),(0,b.jsx)("p",{className:"text-gray-600 mb-4",children:"Failed to load podcasts. Please try again."}),(0,b.jsx)(e.Button,{onClick:()=>z(),children:"Retry"})]})})}):(0,b.jsx)("div",{className:"bg-gray-50",children:(0,b.jsxs)("div",{className:"w-full mx-auto",children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-[#5A8DEE]",children:"Podcast Management"}),(0,b.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mt-2",children:[(0,b.jsx)("span",{children:"Dashboard"}),(0,b.jsx)(h.ChevronRight,{className:"w-4 h-4 mx-2"}),(0,b.jsx)("span",{className:"text-gray-900 font-medium",children:"Podcast Management"})]})]}),(0,b.jsxs)(e.Button,{onClick:()=>{a.push("/admin-dashboard/podcast-management/add")},className:"h-11 px-6 flex items-center gap-2",disabled:B||!v,title:v?void 0:"Waiting for auth...",children:[(0,b.jsx)(g.Plus,{className:"w-4 h-4"}),"Add New Podcast"]})]})}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"All Podcasts"})}),(0,b.jsx)(f.CardContent,{className:"p-0",children:(0,b.jsx)(r,{podcasts:C,onView:a=>{t(a),q(!0)},onEdit:b=>{a.push(`/admin-dashboard/podcast-management/edit/${b._id}`)},onDelete:a=>{A(a,{onSuccess:()=>{z()}})},isLoading:x||B,currentPage:n,totalPages:D?.totalPages||1,totalData:D?.totalData||0,hasNextPage:D?.hasNextPage||!1,hasPrevPage:D?.hasPrevPage||!1,onPageChange:a=>{o(a),window.scrollTo({top:0,behavior:"smooth"})}})})]}),(0,b.jsx)(k.Dialog,{open:p,onOpenChange:q,children:(0,b.jsxs)(k.DialogContent,{className:"!max-w-4xl w-full h-[90vh] overflow-y-auto rounded-xl shadow-lg",children:[(0,b.jsx)(k.DialogHeader,{className:"sticky top-0 bg-white border-bpb-4",children:(0,b.jsx)(k.DialogTitle,{className:"text-2xl font-semibold text-gray-900",children:"Podcast Details"})}),s&&(0,b.jsxs)("div",{className:"space-y-6 py-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:s.title}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mb-4",children:[(0,b.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:s.mediaName}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:["ðŸ“…"," ",new Date(s.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})]}),s.uploadThumbnail&&(0,b.jsx)("div",{className:"relative w-full h-80 bg-gray-100 rounded-lg overflow-hidden",children:(0,b.jsx)(l.default,{src:s.uploadThumbnail,alt:s.title,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold text-lg mb-3 text-gray-900",children:"Description"}),(0,b.jsx)("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:s.description})]}),s.linkUrl&&(0,b.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"font-semibold text-sm text-gray-700 mb-2",children:"External Link"}),(0,b.jsxs)("a",{href:s.linkUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 hover:underline",children:[(0,b.jsx)(i,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:s.linkName})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"File Type"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:s.fileType||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"File Size"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:s.fileSize?`${(s.fileSize/1024/1024).toFixed(2)} MB`:"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Created At"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:new Date(s.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Last Updated"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:new Date(s.updatedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})]})})]})})}}];

//# sourceMappingURL=29b0c_admin-dashboard_podcast-management__components_podcastManagement_tsx_7a6de518._.js.map