module.exports=[87175,a=>{"use strict";a.s(["Button",()=>i],87175);var b=a.i(21535),c=a.i(94153),d=a.i(68065);let e=a=>"boolean"==typeof a?`${a}`:0===a?"0":a,f=d.clsx;var g=a.i(74406);let h=((a,b)=>c=>{var d;if((null==b?void 0:b.variants)==null)return f(a,null==c?void 0:c.class,null==c?void 0:c.className);let{variants:g,defaultVariants:h}=b,i=Object.keys(g).map(a=>{let b=null==c?void 0:c[a],d=null==h?void 0:h[a];if(null===b)return null;let f=e(b)||e(d);return g[a][f]}),j=c&&Object.entries(c).reduce((a,b)=>{let[c,d]=b;return void 0===d||(a[c]=d),a},{});return f(a,i,null==b||null==(d=b.compoundVariants)?void 0:d.reduce((a,b)=>{let{class:c,className:d,...e}=b;return Object.entries(e).every(a=>{let[b,c]=a;return Array.isArray(c)?c.includes({...h,...j}[b]):({...h,...j})[b]===c})?[...a,c,d]:a},[]),null==c?void 0:c.class,null==c?void 0:c.className)})("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-pointer",{variants:{variant:{default:"bg-[#5A8DEE] px-6 py-3 rounded-sm text-primary-foreground shadow-xs hover:bg-[#5A8DEE]/80",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function i({className:a,variant:d,size:e,asChild:f=!1,...i}){let j=f?c.Slot:"button";return(0,b.jsx)(j,{"data-slot":"button",className:(0,g.cn)(h({variant:d,size:e,className:a})),...i})}},79512,a=>{"use strict";a.s(["Card",()=>d,"CardContent",()=>g,"CardHeader",()=>e,"CardTitle",()=>f]);var b=a.i(21535),c=a.i(74406);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6 ",a),...d})}},58201,a=>{"use strict";a.s(["Eye",()=>b],58201);let b=(0,a.i(40757).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7508,22782,a=>{"use strict";a.s(["Plus",()=>c],7508);var b=a.i(40757);let c=(0,b.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Edit",()=>d],22782);let d=(0,b.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},96821,a=>{"use strict";a.s(["useAddService",()=>i,"useDeleteService",()=>k,"useGetServices",()=>g,"useGetSingleService",()=>h,"useUpdateService",()=>j]);var b=a.i(19684),c=a.i(97905),d=a.i(60919);let e="http://localhost:5000/api/v1";async function f(a){if(!a.ok)throw Error((await a.json().catch(()=>({}))).message||"Something went wrong");return a.json()}let g=(a,b=1,d=10)=>(0,c.useQuery)({queryKey:["services",b,d,a],queryFn:async()=>f(await fetch(`${e}/services?page=${b}&limit=5`,{credentials:"include",headers:{Authorization:`Bearer ${a}`}})),enabled:!!a}),h=(a,b)=>(0,c.useQuery)({queryKey:["service",a,b],queryFn:async()=>a?f(await fetch(`${e}/services/${a}`,{credentials:"include",headers:{Authorization:`Bearer ${b}`}})):null,enabled:!!a&&!!b}),i=(a,c)=>{let g=(0,d.useQueryClient)();return(0,b.useMutation)({mutationFn:async b=>f(await fetch(`${e}/services`,{method:"POST",body:b,credentials:"include",headers:{Authorization:`Bearer ${a}`}})),onSuccess:()=>{g.invalidateQueries({queryKey:["services"]}),c?.onSuccess?.()},onError:a=>{c?.onError?.(a)}})},j=(a,c)=>{let g=(0,d.useQueryClient)();return(0,b.useMutation)({mutationFn:async({serviceId:b,data:c})=>f(await fetch(`${e}/services/${b}`,{method:"PUT",credentials:"include",headers:{Authorization:`Bearer ${a}`},body:c})),onSuccess:()=>{g.invalidateQueries({queryKey:["services"]}),g.invalidateQueries({queryKey:["service"]}),c?.onSuccess?.()},onError:a=>{c?.onError?.(a)}})},k=a=>{let c=(0,d.useQueryClient)();return(0,b.useMutation)({mutationFn:async b=>f(await fetch(`${e}/services/${b}`,{method:"DELETE",credentials:"include",headers:{Authorization:`Bearer ${a}`}})),onSuccess:()=>{c.invalidateQueries({queryKey:["services"]})}})}},32797,a=>{"use strict";a.s(["default",()=>r],32797);var b=a.i(21535),c=a.i(7765),d=a.i(30629),e=a.i(87175),f=a.i(79512),g=a.i(7508),h=a.i(14324),i=a.i(96821),j=a.i(19506),k=a.i(41038),l=a.i(22782),m=a.i(14133),n=a.i(58201),o=a.i(93264);function p({services:a,onView:d,onEdit:f,onDelete:g,isLoading:h,currentPage:i,totalPages:p,totalData:q,hasNextPage:r,hasPrevPage:s,onPageChange:t}){let[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(!1);return h?(0,b.jsx)(o.default,{}):a||h?(0,b.jsxs)("div",{className:"bg-white rounded-lg border",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service Name"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Session Info"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("div",{className:"w-16 h-16 relative rounded-lg overflow-hidden border",children:a.uploadPhoto?(0,b.jsx)(k.default,{src:a.uploadPhoto,alt:a.serviceName||"Service image",fill:!0,className:"object-cover",sizes:"64px"}):(0,b.jsx)("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-gray-400",children:(0,b.jsx)("span",{className:"text-xs",children:"No Image"})})})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("div",{className:"max-w-xs",children:(0,b.jsx)("span",{className:"font-medium text-gray-900 line-clamp-2",children:a.serviceName})})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:a.sessionInfo||"-"}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("div",{className:"max-w-xs",children:(0,b.jsx)("span",{className:"text-sm text-gray-600 line-clamp-2",children:a.description||"-"})})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:a.createdAt?new Date(a.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-"}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>d(a),className:"text-blue-600 hover:text-blue-800 transition-colors p-1 rounded",title:"View",children:(0,b.jsx)(n.Eye,{className:"w-5 h-5 cursor-pointer"})}),(0,b.jsx)("button",{onClick:()=>f(a),className:"text-green-600 hover:text-green-800 transition-colors p-1 rounded",title:"Edit",children:(0,b.jsx)(l.Edit,{className:"w-5 h-5 cursor-pointer"})}),(0,b.jsx)("button",{onClick:()=>{v(a),x(!0)},className:"text-red-600 hover:text-red-800 transition-colors p-1 rounded",title:"Delete",children:(0,b.jsx)(m.Trash2,{className:"w-5 h-5 cursor-pointer"})})]})})]},a._id))})]})}),(0,b.jsx)(j.Dialog,{open:w,onOpenChange:x,children:(0,b.jsxs)(j.DialogContent,{children:[(0,b.jsxs)(j.DialogHeader,{children:[(0,b.jsx)(j.DialogTitle,{children:"Confirm Deletion"}),(0,b.jsxs)(j.DialogDescription,{children:['Are you sure you want to delete the service "',u?.serviceName,'"? This action cannot be undone.']})]}),(0,b.jsxs)(j.DialogFooter,{children:[(0,b.jsx)(j.DialogClose,{asChild:!0,children:(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>{x(!1),v(null)},children:"Cancel"})}),(0,b.jsx)(e.Button,{variant:"destructive",onClick:()=>{u&&(g(u._id),v(null),x(!1))},children:"Confirm Delete"})]})]})}),p>0&&(0,b.jsxs)("div",{className:"bg-white px-6 py-4 flex items-center justify-between border-t border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[(0,b.jsxs)("span",{children:["Showing page ",i," of ",p]}),(0,b.jsx)("span",{className:"text-gray-400",children:"‚Ä¢"}),(0,b.jsxs)("span",{children:[q," total services"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("button",{onClick:()=>t(i-1),disabled:!s,className:`px-3 py-2 rounded border text-sm font-medium ${s?"text-gray-700 border-gray-300 hover:bg-gray-50":"text-gray-400 border-gray-200 cursor-not-allowed"}`,children:"Previous"}),(function(){let a=[];if(p<=5)for(let b=1;b<=p;b++)a.push(b);else if(i<=3){for(let b=1;b<=3;b++)a.push(b);a.push("..."),a.push(p)}else if(i>=p-2){a.push(1),a.push("...");for(let b=p-2;b<=p;b++)a.push(b)}else a.push(1),a.push("..."),a.push(i-1),a.push(i),a.push(i+1),a.push("..."),a.push(p);return a})().map((a,c)=>(0,b.jsx)("button",{onClick:()=>"number"==typeof a&&t(a),disabled:"..."===a,className:`px-3 py-2 rounded border text-sm font-medium min-w-[40px] ${a===i?"bg-blue-600 text-white border-blue-600":"..."===a?"text-gray-400 border-gray-200 cursor-default":"text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:a},c)),(0,b.jsx)("button",{onClick:()=>t(i+1),disabled:!r,className:`px-3 py-2 rounded border text-sm font-medium ${r?"text-gray-700 border-gray-300 hover:bg-gray-50":"text-gray-400 border-gray-200 cursor-not-allowed"}`,children:"Next"})]})]})]}):(0,b.jsxs)("div",{className:"text-center py-8 text-gray-500 bg-gray-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-lg",children:"No services found"}),(0,b.jsx)("p",{className:"text-sm mt-1",children:"Create your first service to get started"})]})}var q=a.i(28134);function r(){let a=(0,d.useRouter)(),[l,m]=(0,c.useState)(1),[n,o]=(0,c.useState)(!1),[r,s]=(0,c.useState)(null),t=(0,q.useSession)(),u=t.data?.user?.accessToken||"",{data:v,isLoading:w,error:x,refetch:y}=(0,i.useGetServices)(u,l,10),{mutate:z,isPending:A}=(0,i.useDeleteService)(u);(0,c.useEffect)(()=>{u&&y()},[u,l]);let B=v?.services||[],C=v?.pagination;return x?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 p-6 flex items-center justify-center",children:(0,b.jsx)(f.Card,{className:"w-full max-w-md",children:(0,b.jsxs)(f.CardContent,{className:"pt-6 text-center",children:[(0,b.jsx)("div",{className:"text-red-500 text-lg font-semibold mb-2",children:"Error Loading Services"}),(0,b.jsx)("p",{className:"text-gray-600 mb-4",children:"Failed to load services. Please try again."}),(0,b.jsx)(e.Button,{onClick:()=>y(),children:"Retry"})]})})}):(0,b.jsx)("div",{className:"bg-gray-50",children:(0,b.jsxs)("div",{className:"w-full mx-auto",children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-[#5A8DEE]",children:"Services Management"}),(0,b.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mt-2",children:[(0,b.jsx)("span",{children:"Dashboard"}),(0,b.jsx)(h.ChevronRight,{className:"w-4 h-4 mx-2"}),(0,b.jsx)("span",{className:"text-gray-900 font-medium",children:"Services Management"})]})]}),(0,b.jsxs)(e.Button,{onClick:()=>{a.push("/admin-dashboard/service-management/add")},className:"h-11 px-6 flex items-center gap-2",disabled:A||!u,title:u?void 0:"Waiting for auth...",children:[(0,b.jsx)(g.Plus,{className:"w-4 h-4"}),"Add New Service"]})]})}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"All Services"})}),(0,b.jsx)(f.CardContent,{className:"p-0",children:(0,b.jsx)(p,{services:B,onView:a=>{s(a),o(!0)},onEdit:b=>{a.push(`/admin-dashboard/service-management/edit/${b._id}`)},onDelete:a=>{z(a,{onSuccess:()=>{y()}})},isLoading:w||A,currentPage:l,totalPages:C?.totalPages||1,totalData:C?.totalData||0,hasNextPage:C?.hasNextPage||!1,hasPrevPage:C?.hasPrevPage||!1,onPageChange:a=>{m(a),window.scrollTo({top:0,behavior:"smooth"})}})})]}),(0,b.jsx)(j.Dialog,{open:n,onOpenChange:o,children:(0,b.jsxs)(j.DialogContent,{className:"!max-w-4xl w-full h-[90vh] overflow-y-auto rounded-xl shadow-lg",children:[(0,b.jsx)(j.DialogHeader,{className:"sticky top-0 bg-white border-b pb-4",children:(0,b.jsx)(j.DialogTitle,{className:"text-2xl font-semibold text-gray-900",children:"Service Details"})}),r&&(0,b.jsxs)("div",{className:"space-y-6 py-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:r.serviceName}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mb-4",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:["‚è±Ô∏è ",r.sessionInfo]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:["üìÖ"," ",new Date(r.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})]}),r.uploadPhoto&&(0,b.jsx)("div",{className:"relative w-full h-80 bg-gray-100 rounded-lg overflow-hidden",children:(0,b.jsx)(k.default,{src:r.uploadPhoto,alt:r.serviceName,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold text-lg mb-3 text-gray-900",children:"Description"}),(0,b.jsx)("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:r.description})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"File Type"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:r.fileType||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"File Size"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:r.fileSize?`${(r.fileSize/1024/1024).toFixed(2)} MB`:"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Created At"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:new Date(r.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Last Updated"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:new Date(r.updatedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})]})})]})})}}];

//# sourceMappingURL=BeUnburdened_admin_dashboard_0cec0302._.js.map