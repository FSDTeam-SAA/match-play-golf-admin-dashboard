(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71064,e=>{"use strict";e.s(["default",()=>w],71064),e.i(47167);var l=e.i(43476),a=e.i(66027),s=e.i(18566),r=e.i(71645),t=e.i(75157);function d(e){let{className:a,...s}=e;return(0,l.jsx)("div",{"data-slot":"skeleton",className:(0,t.cn)("bg-accent animate-pulse rounded-md",a),...s})}let n=e=>{let{rules:a,isLoading:s}=e;return s?(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-2xl font-semibold",children:"Event Rules"}),(0,l.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,l.jsx)(d,{className:"h-4 w-[80%]"}),(0,l.jsx)(d,{className:"h-4 w-[90%]"}),(0,l.jsx)(d,{className:"h-4 w-[70%]"}),(0,l.jsx)(d,{className:"h-4 w-[60%]"})]})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-2xl font-semibold",children:"Event Rules"}),(0,l.jsx)("div",{className:"text-gray-500 mt-3",children:(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:a}})})]})},i=e=>{let{label:a,value:s,highlight:r}=e;return(0,l.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-100 pb-3 last:border-0",children:[(0,l.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:[a,":"]}),(0,l.jsx)("span",{className:"text-right text-sm ".concat(r?"font-semibold text-gray-900":s?"text-gray-800":"text-gray-400"),children:s||"Not specified"})]})},o=e=>{let{tournament:a,isLoading:s}=e;return s?(0,l.jsxs)("div",{className:"rounded-lg border bg-white p-6 shadow-sm",children:[(0,l.jsx)(d,{className:"mb-6 h-7 w-48"}),(0,l.jsx)("div",{className:"space-y-4",children:Array.from({length:9}).map((e,a)=>(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)(d,{className:"h-4 w-32"}),(0,l.jsx)(d,{className:"h-4 w-48"})]},a))})]}):a?(0,l.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-all hover:shadow-md",children:[(0,l.jsx)("h4",{className:"mb-6 text-2xl font-semibold text-gray-800",children:"Event Details"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)(i,{label:"Event Name",value:a.tournamentName,highlight:!0}),(0,l.jsx)(i,{label:"Sport",value:a.sportName}),(0,l.jsx)(i,{label:"Format",value:a.format}),(0,l.jsx)(i,{label:"Competition Type",value:a.drawFormat}),(0,l.jsx)(i,{label:"Draw Size",value:a.drawSize?a.drawSize.toString():void 0}),(0,l.jsx)(i,{label:"Start Date",value:a.startDate?new Date(a.startDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):void 0}),(0,l.jsx)(i,{label:"End Date",value:a.endDate?new Date(a.endDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):void 0}),(0,l.jsx)(i,{label:"Location",value:a.location}),(0,l.jsx)(i,{label:"Hold Each Round",value:""})]})]}):(0,l.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,l.jsx)("h4",{className:"mb-6 text-2xl font-semibold text-gray-800",children:"Event Details"}),(0,l.jsx)("p",{className:"text-center text-gray-500",children:"No tournament data available"})]})};var c=e.i(57688),m=e.i(76639);let x=e=>{var a,s,r,t,d,n,i,o,x,u,h;let{isModalOpen:p,handleCloseModal:g,match:f,pairWinner1:v,winner1:j}=e;return(0,l.jsx)(m.Dialog,{open:p,onOpenChange:g,children:(0,l.jsx)(m.DialogContent,{className:"bg-white lg:max-w-2xl",children:(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Match Play Moments"}),(0,l.jsx)("div",{className:"mb-2 font-semibold",children:(null==f?void 0:f.matchType)==="Pair"?(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("h1",{children:[null==f||null==(s=f.pair1Id)||null==(a=s.player1)?void 0:a.fullName," &"," ",null==f||null==(t=f.pair1Id)||null==(r=t.player1)?void 0:r.fullName]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 ".concat(v&&"flex-row-reverse"),children:[(0,l.jsx)("h1",{children:"VS"})," ",(0,l.jsxs)("h1",{children:[null==f?void 0:f.pair1Score,"/",null==f?void 0:f.pair2Score]})]}),(0,l.jsxs)("h1",{children:[null==f||null==(n=f.pair2Id)||null==(d=n.player1)?void 0:d.fullName," &"," ",null==f||null==(o=f.pair2Id)||null==(i=o.player1)?void 0:i.fullName]})]}):(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("h1",{children:null==f||null==(x=f.player1Id)?void 0:x.fullName}),(0,l.jsxs)("div",{className:"flex items-center gap-2 ".concat(j&&"flex-row-reverse"),children:[(0,l.jsx)("h1",{children:"VS"})," ",(0,l.jsxs)("h1",{children:[null==f?void 0:f.player1Score,"/",null==f?void 0:f.player2Score]})]}),(0,l.jsx)("h1",{children:null==f||null==(u=f.player2Id)?void 0:u.fullName})]})}),(0,l.jsx)("div",{className:"mb-5",children:(0,l.jsx)("p",{className:"opacity-75",children:(null==f?void 0:f.comments)||"No comments."})}),(0,l.jsx)("div",{className:"grid grid-cols-3 gap-5",children:null==f||null==(h=f.matchPhoto)?void 0:h.map((e,a)=>(0,l.jsx)(c.default,{src:e,alt:"img.png",width:1e3,height:1e3,className:"h-32 object-cover rounded-lg"},a))})]})})})},u=e=>{var a,s,r,t,d,n,i,o;let{isModalOpen:x,handleCloseModal:u,matchInfo:h}=e;if(!h)return null;let p=(null==h?void 0:h.status)==="completed"||(null==h?void 0:h.status)==="Completed",g=(null==h?void 0:h.winner)===(null==h||null==(a=h.player1Id)?void 0:a._id),f=(null==h?void 0:h.winner)===(null==h||null==(s=h.player2Id)?void 0:s._id);return(0,l.jsx)(m.Dialog,{open:x,onOpenChange:u,children:(0,l.jsx)(m.DialogContent,{className:"bg-white lg:max-w-3xl max-w-[95vw] sm:max-w-lg md:max-w-xl",children:(0,l.jsxs)("div",{className:"p-4 md:p-6",children:[(0,l.jsxs)("div",{className:"text-center mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Match Details"}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,l.jsx)("span",{className:"text-sm font-medium px-4 py-1.5 rounded-full ".concat((e=>{switch(null==e?void 0:e.toLowerCase()){case"upcoming":return"bg-blue-100 text-blue-800";case"in progress":case"in_progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(null==h?void 0:h.status)),children:(null==h?void 0:h.status)||"upcoming"}),(null==h?void 0:h.matchType)&&(0,l.jsx)("span",{className:"text-sm font-medium px-4 py-1.5 rounded-full bg-purple-100 text-purple-800",children:null==h?void 0:h.matchType})]})]}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 md:gap-8",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center text-center w-full md:w-1/3 p-4 rounded-lg transition-all ".concat(p&&g?"bg-green-50 border-2 border-green-500":"bg-gray-50"),children:[p&&g&&(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-green-500 text-white",children:"ðŸ† Winner"})}),(0,l.jsx)("h1",{className:"text-lg md:text-xl font-bold text-gray-800 mb-4",children:(null==h?void 0:h.matchType)==="Team"?"Team 1":"Player 1"}),(0,l.jsx)("div",{className:"h-24 w-24 md:h-32 md:w-32 rounded-full mb-4 overflow-hidden border-4 border-white shadow-lg",children:(0,l.jsx)(c.default,{src:(null==h||null==(r=h.player1Id)?void 0:r.profileImage)||"/images/common/user_placeholder.png",alt:"Player 1",width:200,height:200,className:"h-full w-full object-cover"})}),(0,l.jsx)("h1",{className:"text-lg md:text-xl font-semibold text-gray-800 mt-2 line-clamp-2",children:(null==h||null==(t=h.player1Id)?void 0:t.fullName)||"N/A"}),(0,l.jsx)("p",{className:"text-sm md:text-base text-gray-600 mt-1 break-words max-w-full",children:(null==h||null==(d=h.player1Id)?void 0:d.email)||"No email"}),p&&(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)("span",{className:"text-3xl font-bold text-gray-800",children:(null==h?void 0:h.player1Score)||"0"})})]}),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center px-4",children:[(0,l.jsx)("div",{className:"text-3xl md:text-5xl font-bold text-red-500 mb-2",children:"VS"}),p&&(0,l.jsx)("div",{className:"text-center",children:(0,l.jsxs)("span",{className:"text-2xl font-bold text-gray-700",children:[(null==h?void 0:h.player1Score)||"0"," :"," ",(null==h?void 0:h.player2Score)||"0"]})})]}),(0,l.jsxs)("div",{className:"flex flex-col items-center text-center w-full md:w-1/3 p-4 rounded-lg transition-all ".concat(p&&f?"bg-green-50 border-2 border-green-500":"bg-gray-50"),children:[p&&f&&(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-green-500 text-white",children:"ðŸ† Winner"})}),(0,l.jsx)("h1",{className:"text-lg md:text-xl font-bold text-gray-800 mb-4",children:(null==h?void 0:h.matchType)==="Team"?"Team 2":"Player 2"}),(0,l.jsx)("div",{className:"h-24 w-24 md:h-32 md:w-32 rounded-full mb-4 overflow-hidden border-4 border-white shadow-lg",children:(0,l.jsx)(c.default,{src:(null==h||null==(n=h.player2Id)?void 0:n.profileImage)||"/images/common/user_placeholder.png",alt:"Player 2",width:200,height:200,className:"h-full w-full object-cover"})}),(0,l.jsx)("h1",{className:"text-lg md:text-xl font-semibold text-gray-800 mt-2 line-clamp-2",children:(null==h||null==(i=h.player2Id)?void 0:i.fullName)||"N/A"}),(0,l.jsx)("p",{className:"text-sm md:text-base text-gray-600 mt-1 break-words max-w-full",children:(null==h||null==(o=h.player2Id)?void 0:o.email)||"No email"}),p&&(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)("span",{className:"text-3xl font-bold text-gray-800",children:(null==h?void 0:h.player2Score)||"0"})})]})]}),(null==h?void 0:h.date)&&(0,l.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2 text-gray-600",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,l.jsx)("span",{className:"text-sm font-medium",children:new Date(h.date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),(0,l.jsx)("span",{className:"text-sm font-medium",children:new Date(h.date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})}),p&&(null==h?void 0:h.comments)&&(0,l.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,l.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Match Comments:"}),(0,l.jsx)("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:h.comments})]})]})})})},h=e=>{var a,s,r,t,d,n,i,o,x,u,h,p,g,f,v,j,b,y,N,w,I,S,C,D;let{isModalOpen:k,handleCloseModal:P,matchInfo:_}=e;return(0,l.jsx)(m.Dialog,{open:k,onOpenChange:P,children:(0,l.jsx)(m.DialogContent,{className:"bg-white lg:max-w-4xl max-w-[95vw] sm:max-w-lg md:max-w-xl",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 md:gap-8 p-4 md:p-6",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center text-center w-full md:w-1/3",children:[(0,l.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-4",children:"Team 1"}),(0,l.jsxs)("div",{className:"flex items-center gap-5",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"h-24 w-24 md:h-32 md:w-32 rounded-full mb-4 overflow-hidden border-2 border-gray-200",children:(0,l.jsx)(c.default,{src:(null==_||null==(s=_.pair1Id)||null==(a=s.player1)?void 0:a.profileImage)||"/images/common/user_placeholder.png",alt:"Player 1",width:200,height:200,className:"h-full w-full object-cover"})}),(0,l.jsx)("h1",{className:"text-lg md:text-xl font-semibold text-gray-800 mt-2 line-clamp-2",children:(null==_||null==(t=_.pair1Id)||null==(r=t.player1)?void 0:r.fullName)||"N/A"}),(0,l.jsx)("p",{className:"text-sm md:text-base text-gray-600 mt-1 break-words max-w-full",children:(null==_||null==(n=_.pair1Id)||null==(d=n.player1)?void 0:d.email)||"No email"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"h-24 w-24 md:h-32 md:w-32 rounded-full mb-4 overflow-hidden border-2 border-gray-200",children:(0,l.jsx)(c.default,{src:(null==_||null==(o=_.pair1Id)||null==(i=o.player2)?void 0:i.profileImage)||"/images/common/user_placeholder.png",alt:"Player 1",width:200,height:200,className:"h-full w-full object-cover"})}),(0,l.jsx)("h1",{className:"text-lg md:text-xl font-semibold text-gray-800 mt-2 line-clamp-2",children:(null==_||null==(u=_.pair1Id)||null==(x=u.player2)?void 0:x.fullName)||"N/A"}),(0,l.jsx)("p",{className:"text-sm md:text-base text-gray-600 mt-1 break-words max-w-full",children:(null==_||null==(p=_.pair1Id)||null==(h=p.player2)?void 0:h.email)||"No email"})]})]})]}),(0,l.jsx)("div",{className:"hidden md:flex flex-col items-center justify-center px-4",children:(0,l.jsx)("div",{className:"text-3xl md:text-4xl font-bold text-red-500",children:"VS"})}),(0,l.jsx)("div",{className:"md:hidden my-4",children:(0,l.jsx)("div",{className:"text-2xl font-bold text-red-500",children:"VS"})}),(0,l.jsxs)("div",{className:"flex flex-col items-center text-center w-full md:w-1/3",children:[(0,l.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-gray-800 mb-4",children:"Team 2"}),(0,l.jsxs)("div",{className:"flex items-center gap-5",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"h-24 w-24 md:h-32 md:w-32 rounded-full mb-4 overflow-hidden border-2 border-gray-200",children:(0,l.jsx)(c.default,{src:(null==_||null==(f=_.pair2Id)||null==(g=f.player1)?void 0:g.profileImage)||"/images/common/user_placeholder.png",alt:"Player 1",width:200,height:200,className:"h-full w-full object-cover"})}),(0,l.jsx)("h1",{className:"text-lg md:text-xl font-semibold text-gray-800 mt-2 line-clamp-2",children:(null==_||null==(j=_.pair2Id)||null==(v=j.player1)?void 0:v.fullName)||"N/A"}),(0,l.jsx)("p",{className:"text-sm md:text-base text-gray-600 mt-1 break-words max-w-full",children:(null==_||null==(y=_.pair2Id)||null==(b=y.player1)?void 0:b.email)||"No email"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"h-24 w-24 md:h-32 md:w-32 rounded-full mb-4 overflow-hidden border-2 border-gray-200",children:(0,l.jsx)(c.default,{src:(null==_||null==(w=_.pair2Id)||null==(N=w.player2)?void 0:N.profileImage)||"/images/common/user_placeholder.png",alt:"Player 1",width:200,height:200,className:"h-full w-full object-cover"})}),(0,l.jsx)("h1",{className:"text-lg md:text-xl font-semibold text-gray-800 mt-2 line-clamp-2",children:(null==_||null==(S=_.pair2Id)||null==(I=S.player2)?void 0:I.fullName)||"N/A"}),(0,l.jsx)("p",{className:"text-sm md:text-base text-gray-600 mt-1 break-words max-w-full",children:(null==_||null==(D=_.pair2Id)||null==(C=D.player2)?void 0:C.email)||"No email"})]})]})]})]})})})},p=e=>{var a,s,t,d,n,i,o,m,u,p,g,f,v,j,b,y,N,w,I,S,C,D,k,P,_,T,M,L,A,R,U,E,O,F,V,z,W,B,q,H,K,G,Q,X,Y,J;let{item:Z,index:$,getStatusColor:ee}=e,[el,ea]=(0,r.useState)(!1),[es,er]=(0,r.useState)(),[et,ed]=(0,r.useState)(),en=(null==Z?void 0:Z.winner)===(null==Z||null==(a=Z.pair1Id)?void 0:a._id),ei=(null==Z?void 0:Z.winner)===(null==Z||null==(s=Z.pair2Id)?void 0:s._id);return(0,l.jsxs)("div",{className:"flex items-center gap-5 space-y-5",children:[(0,l.jsx)("div",{className:"font-medium text-gray-500 pt-5",children:$+1<10?"0".concat($+1):$+1}),(0,l.jsxs)("div",{className:"flex-1 shadow-lg rounded-lg overflow-hidden border border-gray-200",children:[(0,l.jsxs)("div",{className:"border-b border-b-gray-300 flex items-center",children:[(0,l.jsxs)("div",{className:"border-r border-gray-300 lg:w-1/2 p-6 flex items-center gap-5 ".concat(en?"bg-[#39674b] text-white":""),children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"h-12 w-12 rounded-full flex items-center justify-center overflow-hidden bg-gray-100",children:(null==(d=Z.pair1Id)||null==(t=d.player1)?void 0:t.profileImage)?(0,l.jsx)(c.default,{src:null==(i=Z.pair1Id)||null==(n=i.player1)?void 0:n.profileImage,alt:null==(m=Z.pair1Id)||null==(o=m.player1)?void 0:o.fullName,width:1e3,height:1e3,className:"h-full w-full rounded-full object-cover"}):(0,l.jsx)("span",{className:"text-lg font-semibold text-red-800",children:(null==(g=Z.pair1Id)||null==(p=g.player1)||null==(u=p.fullName)?void 0:u.charAt(0))||"P1"})}),(0,l.jsx)("div",{className:"h-12 w-12 rounded-full flex items-center justify-center overflow-hidden bg-gray-100",children:(null==(v=Z.pair1Id)||null==(f=v.player2)?void 0:f.profileImage)?(0,l.jsx)(c.default,{src:null==(b=Z.pair1Id)||null==(j=b.player2)?void 0:j.profileImage,alt:null==(N=Z.pair1Id)||null==(y=N.player2)?void 0:y.fullName,width:1e3,height:1e3,className:"h-full w-full rounded-full object-cover"}):(0,l.jsx)("span",{className:"text-lg font-semibold text-red-800",children:(null==(S=Z.pair1Id)||null==(I=S.player2)||null==(w=I.fullName)?void 0:w.charAt(0))||"P2"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:(0,l.jsx)("h1",{className:"font-semibold",children:(null==(D=Z.pair1Id)||null==(C=D.player1)?void 0:C.fullName)||"Player 1"})}),(0,l.jsx)("div",{children:(0,l.jsx)("h1",{className:"font-semibold",children:(null==(P=Z.pair1Id)||null==(k=P.player2)?void 0:k.fullName)||"Player 2"})})]})]}),(0,l.jsxs)("div",{className:"px-8 flex items-center gap-2 ".concat(en&&"flex-row-reverse"),children:[(0,l.jsx)("div",{onClick:()=>{ea(!0),er(Z)},className:"text-sm text-gray-500 cursor-pointer",children:"VS"}),"completed"===Z.status&&(0,l.jsx)("div",{className:"text-sm font-medium text-gray-600",children:(0,l.jsxs)("span",{className:"text-red-700 font-bold text-xl flex",children:[(0,l.jsx)("span",{children:Z.pair1Score})," ",(0,l.jsx)("span",{children:" /"})," ",(0,l.jsxs)("span",{children:[" ",Z.pair2Score]})]})})]}),(0,l.jsxs)("div",{className:"border-l border-gray-300 lg:w-1/2 p-6 flex items-center gap-5 ".concat(ei?"bg-[#39674b] text-white":""),children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"h-12 w-12 rounded-full flex items-center justify-center overflow-hidden bg-gray-100",children:(null==(T=Z.pair2Id)||null==(_=T.player1)?void 0:_.profileImage)?(0,l.jsx)(c.default,{src:null==(L=Z.pair2Id)||null==(M=L.player1)?void 0:M.profileImage,alt:null==(R=Z.pair2Id)||null==(A=R.player1)?void 0:A.fullName,width:1e3,height:1e3,className:"h-full w-full rounded-full object-cover"}):(0,l.jsx)("span",{className:"text-lg font-semibold text-red-800",children:(null==(O=Z.pair2Id)||null==(E=O.player1)||null==(U=E.fullName)?void 0:U.charAt(0))||"P1"})}),(0,l.jsx)("div",{className:"h-12 w-12 rounded-full flex items-center justify-center overflow-hidden bg-gray-100",children:(null==(V=Z.pair2Id)||null==(F=V.player2)?void 0:F.profileImage)?(0,l.jsx)(c.default,{src:null==(W=Z.pair2Id)||null==(z=W.player2)?void 0:z.profileImage,alt:null==(q=Z.pair2Id)||null==(B=q.player2)?void 0:B.fullName,width:1e3,height:1e3,className:"h-full w-full rounded-full object-cover"}):(0,l.jsx)("span",{className:"text-lg font-semibold text-red-800",children:(null==(G=Z.pair2Id)||null==(K=G.player2)||null==(H=K.fullName)?void 0:H.charAt(0))||"P2"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:(0,l.jsx)("h1",{className:"font-semibold",children:(null==(X=Z.pair2Id)||null==(Q=X.player1)?void 0:Q.fullName)||"Player 1"})}),(0,l.jsx)("div",{children:(0,l.jsx)("h1",{className:"font-semibold",children:(null==(J=Z.pair2Id)||null==(Y=J.player2)?void 0:Y.fullName)||"Player 2"})})]})]})]}),(0,l.jsxs)("div",{className:"bg-[#eaeaeecb] py-2 px-4",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row ".concat("completed"===Z.status?"justify-between":"justify-center"," items-start sm:items-center gap-4"),children:[(0,l.jsx)("div",{}),(0,l.jsxs)("div",{className:"flex items-center gap-5",children:[(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("span",{className:"text-gray-700 text-sm",children:(null==Z?void 0:Z.date)?new Date(null==Z?void 0:Z.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}):"Date not set"}),(0,l.jsx)("span",{children:", "}),(0,l.jsx)("span",{className:"text-gray-700 text-sm",children:(null==Z?void 0:Z.date)?new Date(null==Z?void 0:Z.date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):""})]}),(0,l.jsx)("div",{className:"flex items-center gap-3 justify-end",children:(0,l.jsx)("div",{className:"text-sm font-medium px-3 py-1 rounded-full ".concat(ee(Z.status)),children:Z.status||"upcoming"})})]}),"completed"===Z.status&&(0,l.jsx)("div",{children:(0,l.jsx)("button",{onClick:()=>{ed(!0),er(Z)},className:"text-primary font-semibold text-sm",children:"Moments"})})]}),el&&(0,l.jsx)(h,{handleCloseModal:()=>{ea(!1)},isModalOpen:el,matchInfo:es}),et&&(0,l.jsx)(x,{isModalOpen:et,handleCloseModal:()=>{ed(!1)},match:es,pairWinner1:en})]})]})]})};var g=e.i(37727),f=e.i(69074),v=e.i(17255),j=e.i(46696);function b(e){var a,s,t,d,n,i,o,m,x,u;let{isOpen:h,onClose:p,match:b,onSuccess:y}=e,{data:N}=(0,v.useSession)(),[w,I]=(0,r.useState)(!1),[S,C]=(0,r.useState)(""),[D,k]=(0,r.useState)(""),[P,_]=(0,r.useState)(""),[T,M]=(0,r.useState)(""),[L,A]=(0,r.useState)(""),[R,U]=(0,r.useState)(""),[E,O]=(0,r.useState)(null),[F,V]=(0,r.useState)(""),z=async e=>{if(e.preventDefault(),!b)return void j.toast.error("Match information is missing");I(!0);try{var l,a,s;let e=(null==N||null==(l=N.user)?void 0:l.accessToken)||"";if(!e)return void j.toast.error("You must be logged in");if(!S)return void j.toast.error("Please select a winner");if(!D||!P)return void j.toast.error("Please enter both scores");let r=parseInt(D),t=parseInt(P);if(S===(null==b||null==(a=b.player1Id)?void 0:a._id)&&r<=t||S===(null==b||null==(s=b.player2Id)?void 0:s._id)&&t<=r)return void j.toast.error("Winner score must be higher than opponent");let d=new FormData;d.append("player1Score",D),d.append("player2Score",P),d.append("winner",S),d.append("status","Completed"),T&&d.append("location",T),L&&d.append("date",new Date(L).toISOString()),R&&d.append("comments",R),E&&d.append("photo",E);let n=await fetch("".concat("http://localhost:5000/api","/match/").concat(null==b?void 0:b._id),{method:"PUT",headers:{Authorization:"Bearer ".concat(e)},body:d}),i=await n.json();if(!n.ok)return void j.toast.error((null==i?void 0:i.message)||"Failed to update match");j.toast.success("Match result saved successfully!"),null==y||y(),p()}catch(e){console.error("Error updating match:",e),j.toast.error("Something went wrong. Please try again.")}finally{I(!1)}};return h&&b?(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,l.jsx)("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[85vh] overflow-y-auto",children:(0,l.jsxs)("form",{onSubmit:z,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-center text-red-700",children:"Enter Result"}),(0,l.jsx)("button",{type:"button",onClick:p,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:(0,l.jsx)(g.X,{size:24})})]}),(0,l.jsxs)("div",{className:"p-6 space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Select Winner"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{onClick:()=>{var e;return C((null==b||null==(e=b.player1Id)?void 0:e._id)||"")},className:"flex items-center gap-3 p-4 border-2 rounded-lg cursor-pointer transition-all ".concat(S===(null==b||null==(a=b.player1Id)?void 0:a._id)?"border-green-600 bg-green-50":"border-gray-300 hover:border-gray-400"),children:[(0,l.jsx)("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center ".concat(S===(null==b||null==(s=b.player1Id)?void 0:s._id)?"border-green-600 bg-green-600":"border-gray-300"),children:S===(null==b||null==(t=b.player1Id)?void 0:t._id)&&(0,l.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})}),(0,l.jsx)("span",{className:"font-medium text-gray-900",children:(null==b||null==(d=b.player1Id)?void 0:d.fullName)||"Player 1"})]}),(0,l.jsxs)("div",{onClick:()=>{var e;return C((null==b||null==(e=b.player2Id)?void 0:e._id)||"")},className:"flex items-center gap-3 p-4 border-2 rounded-lg cursor-pointer transition-all ".concat(S===(null==b||null==(n=b.player2Id)?void 0:n._id)?"border-green-600 bg-green-50":"border-gray-300 hover:border-gray-400"),children:[(0,l.jsx)("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center ".concat(S===(null==b||null==(i=b.player2Id)?void 0:i._id)?"border-green-600 bg-green-600":"border-gray-300"),children:S===(null==b||null==(o=b.player2Id)?void 0:o._id)&&(0,l.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})}),(0,l.jsx)("span",{className:"font-medium text-gray-900",children:(null==b||null==(m=b.player2Id)?void 0:m.fullName)||"Player 2"})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(null==b||null==(x=b.player1Id)?void 0:x.fullName)||"Player 1"," Score"]}),(0,l.jsx)("input",{type:"number",min:"0",value:D,onChange:e=>k(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter score",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(null==b||null==(u=b.player2Id)?void 0:u.fullName)||"Player 2"," Score"]}),(0,l.jsx)("input",{type:"number",min:"0",value:P,onChange:e=>_(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter score",required:!0})]})]}),D&&P&&(0,l.jsx)("div",{className:"text-center",children:(0,l.jsxs)("span",{className:"text-red-700 font-bold text-2xl",children:[D," / ",P]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Location"}),(0,l.jsx)("input",{type:"text",value:T,onChange:e=>M(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Collingtree Park GC"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Date/Time"}),(0,l.jsx)("input",{type:"datetime-local",value:L,onChange:e=>A(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Match Play Moments Report"}),(0,l.jsx)("textarea",{value:R,onChange:e=>U(e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 resize-none",placeholder:"Very Close match played against 2 great players"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Match Photo"}),(0,l.jsx)("div",{onDragOver:e=>{e.preventDefault()},onDrop:e=>{var l;e.preventDefault();let a=null==(l=e.dataTransfer.files)?void 0:l[0];if(a&&a.type.startsWith("image/")){O(a);let e=new FileReader;e.onloadend=()=>{V(e.result)},e.readAsDataURL(a)}},className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors",children:F?(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)(c.default,{src:F,alt:"Preview",width:200,height:200,className:"mx-auto rounded-lg object-cover"}),(0,l.jsx)("button",{type:"button",onClick:()=>{O(null),V("")},className:"text-sm text-red-600 hover:text-red-700",children:"Remove"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.Upload,{className:"mx-auto text-gray-400 mb-3",size:40}),(0,l.jsx)("p",{className:"text-gray-600 mb-1",children:"Drag and drop files here"}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"or click to browse"}),(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var l;let a=null==(l=e.target.files)?void 0:l[0];if(a){O(a);let e=new FileReader;e.onloadend=()=>{V(e.result)},e.readAsDataURL(a)}},className:"hidden",id:"photo-upload"}),(0,l.jsx)("label",{htmlFor:"photo-upload",className:"inline-block px-4 py-2 bg-gray-100 text-gray-700 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors",children:"Browse Files"})]})})]})]}),(0,l.jsxs)("div",{className:"flex gap-4 p-6 border-t",children:[(0,l.jsx)("button",{type:"button",onClick:p,disabled:w,className:"flex-1 px-6 py-3 border-2 border-red-600 text-red-600 rounded-lg font-semibold hover:bg-red-50 transition-colors disabled:opacity-50",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",disabled:w,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors disabled:opacity-50",children:w?"Saving...":"Save"})]})]})})}):null}let y=e=>{switch(null==e?void 0:e.toLowerCase()){case"upcoming":return"bg-blue-100 text-blue-800";case"in progress":case"in_progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},N=e=>{let{matches:a,isLoading:s,refetchMatches:t}=e,[n,i]=(0,r.useState)(!1),[o,m]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),[f,v]=(0,r.useState)(null),[j,N]=(0,r.useState)(!1),w=e=>{g(!0),v(e)};return s?(0,l.jsx)("div",{className:"space-y-6",children:[1,2,3].map(e=>(0,l.jsxs)("div",{className:"flex items-start gap-5 space-y-8",children:[(0,l.jsx)(d,{className:"h-6 w-8 rounded-md"}),(0,l.jsxs)("div",{className:"flex-1 shadow-lg rounded-lg overflow-hidden ",children:[(0,l.jsxs)("div",{className:"pl-4 pr-4 border-b border-b-gray-300 flex items-center",children:[(0,l.jsx)("div",{className:"border-r border-gray-300 lg:w-1/2 p-5",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(d,{className:"h-12 w-12 rounded-full"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(d,{className:"h-4 w-32"}),(0,l.jsx)(d,{className:"h-3 w-16"})]})]})}),(0,l.jsx)("div",{className:"px-8",children:(0,l.jsx)(d,{className:"h-6 w-8"})}),(0,l.jsx)("div",{className:"border-l border-gray-300 lg:w-1/2 flex justify-end p-5",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("div",{className:"space-y-2 text-right",children:[(0,l.jsx)(d,{className:"h-4 w-32 ml-auto"}),(0,l.jsx)(d,{className:"h-3 w-16 ml-auto"})]}),(0,l.jsx)(d,{className:"h-12 w-12 rounded-full"})]})})]}),(0,l.jsx)("div",{className:"bg-[#f9fafb] p-4",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(d,{className:"h-4 w-40"}),(0,l.jsx)(d,{className:"h-3 w-24"})]}),(0,l.jsxs)("div",{className:"space-y-2 text-right",children:[(0,l.jsx)(d,{className:"h-4 w-48"}),(0,l.jsx)(d,{className:"h-3 w-20 ml-auto"})]})]})})]})]},e))}):a&&0!==a.length?(0,l.jsxs)("div",{className:"space-y-6",children:[a.map((e,a)=>{var s,r,t,d,n,o,x,u,h,g;let f=(null==e?void 0:e.winner)===(null==e||null==(s=e.player1Id)?void 0:s._id),j=(null==e?void 0:e.winner)===(null==e||null==(r=e.player2Id)?void 0:r._id);return(0,l.jsx)("div",{children:(null==e?void 0:e.matchType)==="Single"||(null==e?void 0:e.matchType)==="Team"?(0,l.jsxs)("div",{className:"flex items-center gap-5 space-y-5",children:[(0,l.jsx)("div",{className:"font-medium text-gray-500 pt-5",children:a+1<10?"0".concat(a+1):a+1}),(0,l.jsxs)("div",{className:"flex-1 shadow-lg rounded-lg overflow-hidden border border-gray-200",children:[(0,l.jsxs)("div",{className:"border-b border-b-gray-300 flex items-center",children:[(0,l.jsx)("div",{className:"border-r border-gray-300 lg:w-1/2 p-6 ".concat(f?"bg-[#39674b] text-white":""),children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"h-12 w-12 rounded-full flex items-center justify-center overflow-hidden bg-gray-100",children:(null==(t=e.player1Id)?void 0:t.profileImage)?(0,l.jsx)(c.default,{src:e.player1Id.profileImage,alt:e.player1Id.fullName,width:1e3,height:1e3,className:"h-full w-full rounded-full object-cover"}):(0,l.jsx)("span",{className:"text-lg font-semibold text-red-800",children:(null==(n=e.player1Id)||null==(d=n.fullName)?void 0:d.charAt(0))||"P1"})}),(0,l.jsx)("div",{children:(0,l.jsx)("h1",{className:"font-semibold",children:(null==(o=e.player1Id)?void 0:o.fullName)||"Player 1"})})]})}),(0,l.jsxs)("div",{className:"px-8 flex items-center gap-2 ".concat(f&&"flex-row-reverse"),children:[(0,l.jsx)("div",{onClick:()=>{m(!0),v(e)},className:"text-sm text-gray-500 cursor-pointer hover:text-gray-700 transition-colors",children:"VS"}),"completed"===e.status&&(0,l.jsx)("div",{className:"text-sm font-medium text-gray-600",children:(0,l.jsxs)("span",{className:"text-red-700 font-bold text-xl flex",children:[(0,l.jsx)("span",{children:e.player1Score})," ",(0,l.jsx)("span",{children:" /"})," ",(0,l.jsxs)("span",{children:[" ",e.player2Score]})]})})]}),(0,l.jsx)("div",{className:"border-l border-gray-300 lg:w-1/2 flex justify-end p-6 ".concat(j&&"bg-[#39674b] text-white"),children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"text-right",children:(0,l.jsx)("h1",{className:"font-semibold",children:(null==(x=e.player2Id)?void 0:x.fullName)||"Player 2"})}),(0,l.jsx)("div",{className:"h-12 w-12 rounded-full flex items-center justify-center overflow-hidden bg-gray-100",children:(null==(u=e.player2Id)?void 0:u.profileImage)?(0,l.jsx)(c.default,{src:e.player2Id.profileImage,alt:e.player2Id.fullName,width:1e3,height:1e3,className:"h-full w-full rounded-full object-cover"}):(0,l.jsx)("span",{className:"text-lg font-semibold text-red-800",children:(null==(g=e.player2Id)||null==(h=g.fullName)?void 0:h.charAt(0))||"P2"})})]})})]}),(0,l.jsx)("div",{className:"bg-[#eaeaeecb] py-2 px-4",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row ".concat("completed"===e.status?"justify-between":"justify-center"," items-start sm:items-center gap-4"),children:[(0,l.jsx)("div",{}),(0,l.jsxs)("div",{className:"flex items-center gap-5",children:[(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("span",{className:"text-gray-700 text-sm",children:(null==e?void 0:e.date)?new Date(null==e?void 0:e.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}):"Date not set"}),(0,l.jsx)("span",{children:", "}),(0,l.jsx)("span",{className:"text-gray-700 text-sm",children:(null==e?void 0:e.date)?new Date(null==e?void 0:e.date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):""})]}),(0,l.jsx)("div",{className:"flex items-center gap-3 justify-end",children:(0,l.jsx)("div",{className:"text-sm font-medium px-3 py-1 rounded-full ".concat(y(e.status)),children:e.status||"upcoming"})})]}),(0,l.jsx)("div",{className:"flex items-center gap-3",children:"completed"===e.status||"Completed"===e.status?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>{i(!0),v(e),N(f)},className:"text-primary font-semibold text-sm hover:text-red-700 transition-colors",children:"Moments"}),(0,l.jsx)("button",{onClick:()=>w(e),className:"text-blue-600 font-semibold text-sm hover:text-blue-700 transition-colors",children:"Edit Result"})]}):(0,l.jsx)("button",{onClick:()=>w(e),className:"text-primary font-semibold text-sm hover:text-red-700 transition-colors",children:"Enter Result"})})]})})]})]}):(0,l.jsx)(p,{item:e,getStatusColor:y,index:a})},e._id)}),n&&f&&(0,l.jsx)(x,{isModalOpen:n,handleCloseModal:()=>{i(!1)},match:f,winner1:j}),o&&f&&(0,l.jsx)(u,{isModalOpen:o,handleCloseModal:()=>{m(!1)},matchInfo:f}),h&&f&&(0,l.jsx)(b,{isOpen:h,onClose:()=>{g(!1)},match:f,onSuccess:()=>{null==t||t()}})]}):(0,l.jsxs)("div",{className:"text-center py-10",children:[(0,l.jsx)("div",{className:"text-gray-500 text-lg",children:"No matches found"}),(0,l.jsx)("p",{className:"text-gray-400 mt-2",children:"Create a match to get started"})]})},w=()=>{var e;let t=(0,s.useParams)(),d=null==t?void 0:t.id,[i,c]=(0,r.useState)("draw"),{data:m,isLoading:x}=(0,a.useQuery)({queryKey:["tournaments"],queryFn:async()=>{let e=await fetch("".concat("http://localhost:5000/api","/tournament/getAllMatches/").concat(d)),l=await e.json();return null==l?void 0:l.data}});return(0,l.jsx)("div",{className:"p-6",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-8 border-b-[1px] border-gray-300",children:[(0,l.jsx)("button",{className:"text-gray-500 py-2 px-4 rounded-t-lg ".concat("draw"===i&&"text-primary font-bold bg-primary/15 border-b-2 border-primary"),onClick:()=>c("draw"),children:"Draw"}),(0,l.jsx)("button",{className:"text-gray-500 py-2 px-4 rounded-t-lg ".concat("rules"===i&&"text-primary font-bold bg-primary/15 border-b-2 border-primary"),onClick:()=>c("rules"),children:"Rules"}),(0,l.jsx)("button",{className:"text-gray-500 py-2 px-4 rounded-t-lg ".concat("details"===i&&"text-primary font-bold bg-primary/15 border-b-2 border-primary"),onClick:()=>c("details"),children:"Details"})]}),(0,l.jsxs)("div",{className:"mt-8",children:["draw"===i&&(0,l.jsx)("div",{children:(0,l.jsx)(N,{matches:null==m?void 0:m.matches,isLoading:x})}),"rules"===i&&(0,l.jsx)("div",{children:(0,l.jsx)(n,{rules:null==m||null==(e=m.tournament)?void 0:e.rules,isLoading:x})}),"details"===i&&(0,l.jsx)("div",{children:(0,l.jsx)(o,{tournament:null==m?void 0:m.tournament,isLoading:x})})]})]})})}}]);