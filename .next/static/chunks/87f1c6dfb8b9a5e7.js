(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,21840,e=>{"use strict";e.s(["Label",()=>n],21840);var t=e.i(18249),r=e.i(76712),s=e.i(73203),i=r.forwardRef((e,r)=>(0,t.jsx)(s.Primitive.label,{...e,ref:r,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var a=e.i(97060);function n(e){let{className:r,...s}=e;return(0,t.jsx)(i,{"data-slot":"label",className:(0,a.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...s})}},51182,e=>{"use strict";e.s(["Input",()=>s]);var t=e.i(18249),r=e.i(97060);function s(e){let{className:s,type:i,...a}=e;return(0,t.jsx)("input",{type:i,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...a})}},51560,(e,t,r)=>{t.exports=e.r(29440)},96577,e=>{"use strict";e.s(["default",()=>n],96577);var t=e.i(76712);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,t.forwardRef)((e,r)=>{let{color:a="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:u="",children:d,iconNode:c,...h}=e;return(0,t.createElement)("svg",{ref:r,...i,width:n,height:n,stroke:a,strokeWidth:l?24*Number(o)/Number(n):o,className:s("lucide",u),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"},...h},[...c.map(e=>{let[r,s]=e;return(0,t.createElement)(r,s)}),...Array.isArray(d)?d:[d]])}),n=(e,i)=>{let n=(0,t.forwardRef)((n,o)=>{let{className:l,...u}=n;return(0,t.createElement)(a,{ref:o,iconNode:i,className:s("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),l),...u})});return n.displayName=r(e),n}},57327,e=>{"use strict";e.s(["Button",()=>l],57327);var t=e.i(18249),r=e.i(33756),s=e.i(98944);let i=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,a=s.clsx;var n=e.i(97060);let o=((e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return a(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:n,defaultVariants:o}=t,l=Object.keys(n).map(e=>{let t=null==r?void 0:r[e],s=null==o?void 0:o[e];if(null===t)return null;let a=i(t)||i(s);return n[e][a]}),u=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return a(e,l,null==t||null==(s=t.compoundVariants)?void 0:s.reduce((e,t)=>{let{class:r,className:s,...i}=t;return Object.entries(i).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...u}[t]):({...o,...u})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)})("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-pointer",{variants:{variant:{default:"bg-[#5A8DEE] px-6 py-3 rounded-sm text-primary-foreground shadow-xs hover:bg-[#5A8DEE]/80",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:s,variant:i,size:a,asChild:l=!1,...u}=e,d=l?r.Slot:"button";return(0,t.jsx)(d,{"data-slot":"button",className:(0,n.cn)(o({variant:i,size:a,className:s})),...u})}},41159,e=>{"use strict";e.s(["useMutation",()=>w],41159);var t,r,s,i,a,n,o=e.i(76712),l=e.i(43268),u=e.i(49680),d=e.i(85020),c=e.i(87654),h=e.i(27622),m=e.i(33162),v=e.i(96247),f=e.i(7717),p=e.i(70313),g=(t=new WeakMap,r=new WeakMap,s=new WeakMap,i=new WeakMap,a=new WeakSet,n=new WeakSet,class extends f.Subscribable{bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var r;let i=this.options;this.options=(0,l._)(this,t).defaultMutationOptions(e),(0,p.shallowEqualObjects)(this.options,i)||(0,l._)(this,t).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,l._)(this,s),observer:this}),(null==i?void 0:i.mutationKey)&&this.options.mutationKey&&(0,p.hashKey)(i.mutationKey)!==(0,p.hashKey)(this.options.mutationKey)?this.reset():(null==(r=(0,l._)(this,s))?void 0:r.state.status)==="pending"&&(0,l._)(this,s).setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=(0,l._)(this,s))||e.removeObserver(this)}}onMutationUpdate(e){(0,c._)(this,a,b).call(this),(0,c._)(this,n,x).call(this,e)}getCurrentResult(){return(0,l._)(this,r)}reset(){var e;null==(e=(0,l._)(this,s))||e.removeObserver(this),(0,d._)(this,s,void 0),(0,c._)(this,a,b).call(this),(0,c._)(this,n,x).call(this)}mutate(e,r){var a;return(0,d._)(this,i,r),null==(a=(0,l._)(this,s))||a.removeObserver(this),(0,d._)(this,s,(0,l._)(this,t).getMutationCache().build((0,l._)(this,t),this.options)),(0,l._)(this,s).addObserver(this),(0,l._)(this,s).execute(e)}constructor(e,o){super(),(0,h._)(this,a),(0,h._)(this,n),(0,u._)(this,t,{writable:!0,value:void 0}),(0,u._)(this,r,{writable:!0,value:void 0}),(0,u._)(this,s,{writable:!0,value:void 0}),(0,u._)(this,i,{writable:!0,value:void 0}),(0,d._)(this,t,e),this.setOptions(o),this.bindMethods(),(0,c._)(this,a,b).call(this)}});function b(){var e,t;let i=null!=(t=null==(e=(0,l._)(this,s))?void 0:e.state)?t:(0,m.getDefaultState)();(0,d._)(this,r,{...i,isPending:"pending"===i.status,isSuccess:"success"===i.status,isError:"error"===i.status,isIdle:"idle"===i.status,mutate:this.mutate,reset:this.reset})}function x(e){v.notifyManager.batch(()=>{if((0,l._)(this,i)&&this.hasListeners()){var s,a,n,o,u,d,c,h;let m=(0,l._)(this,r).variables,v=(0,l._)(this,r).context,f={client:(0,l._)(this,t),meta:this.options.meta,mutationKey:this.options.mutationKey};(null==e?void 0:e.type)==="success"?(null==(s=(a=(0,l._)(this,i)).onSuccess)||s.call(a,e.data,m,v,f),null==(n=(o=(0,l._)(this,i)).onSettled)||n.call(o,e.data,null,m,v,f)):(null==e?void 0:e.type)==="error"&&(null==(u=(d=(0,l._)(this,i)).onError)||u.call(d,e.error,m,v,f),null==(c=(h=(0,l._)(this,i)).onSettled)||c.call(h,void 0,e.error,m,v,f))}this.listeners.forEach(e=>{e((0,l._)(this,r))})})}var y=e.i(88889);function w(e,t){let r=(0,y.useQueryClient)(t),[s]=o.useState(()=>new g(r,e));o.useEffect(()=>{s.setOptions(e)},[s,e]);let i=o.useSyncExternalStore(o.useCallback(e=>s.subscribe(v.notifyManager.batchCalls(e)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=o.useCallback((e,t)=>{s.mutate(e,t).catch(p.noop)},[s]);if(i.error&&(0,p.shouldThrowError)(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}},80729,41298,e=>{"use strict";e.s(["Form",()=>o,"FormControl",()=>v,"FormField",()=>u,"FormItem",()=>h,"FormLabel",()=>m,"FormMessage",()=>f],80729);var t=e.i(18249),r=e.i(76712),s=e.i(33756),i=e.i(81057),a=e.i(97060),n=e.i(21840);let o=i.FormProvider,l=r.createContext({}),u=e=>{let{...r}=e;return(0,t.jsx)(l.Provider,{value:{name:r.name},children:(0,t.jsx)(i.Controller,{...r})})},d=()=>{let e=r.useContext(l),t=r.useContext(c),{getFieldState:s}=(0,i.useFormContext)(),a=(0,i.useFormState)({name:e.name}),n=s(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...n}},c=r.createContext({});function h(e){let{className:s,...i}=e,n=r.useId();return(0,t.jsx)(c.Provider,{value:{id:n},children:(0,t.jsx)("div",{"data-slot":"form-item",className:(0,a.cn)("grid gap-2",s),...i})})}function m(e){let{className:r,...s}=e,{error:i,formItemId:o}=d();return(0,t.jsx)(n.Label,{"data-slot":"form-label","data-error":!!i,className:(0,a.cn)("data-[error=true]:text-destructive",r),htmlFor:o,...s})}function v(e){let{...r}=e,{error:i,formItemId:a,formDescriptionId:n,formMessageId:o}=d();return(0,t.jsx)(s.Slot,{"data-slot":"form-control",id:a,"aria-describedby":i?"".concat(n," ").concat(o):"".concat(n),"aria-invalid":!!i,...r})}function f(e){var r;let{className:s,...i}=e,{error:n,formMessageId:o}=d(),l=n?String(null!=(r=null==n?void 0:n.message)?r:""):i.children;return l?(0,t.jsx)("p",{"data-slot":"form-message",id:o,className:(0,a.cn)("text-destructive text-sm",s),...i,children:l}):null}function p(e){let{children:r}=e;return(0,t.jsxs)("div",{className:"min-h-screen grid grid-cols-1 md:grid-cols-2",children:[(0,t.jsx)("div",{className:"hidden md:flex items-center justify-center bg-cover bg-center",style:{backgroundImage:"url('/images/auth.jpg')",backgroundSize:"cover",backgroundPosition:"center"}}),(0,t.jsx)("div",{className:"flex items-center justify-center px-5",children:(0,t.jsx)("div",{className:"w-full max-w-xl",children:r})})]})}e.s(["default",()=>p],41298)},97075,e=>{"use strict";e.s(["default",()=>f],97075),e.i(6011);var t=e.i(18249),r=e.i(28290),s=e.i(81057),i=e.i(53950),a=e.i(51560),n=e.i(80729),o=e.i(51182),l=e.i(57327);let u=(0,e.i(96577).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var d=e.i(41298),c=e.i(76712),h=e.i(41159),m=e.i(98773);let v=r.z.object({otp:r.z.string().length(6,"OTP must be 6 digits")});function f(){let e=(0,a.useSearchParams)().get("email"),r=(0,a.useRouter)(),f=(0,s.useForm)({resolver:(0,i.zodResolver)(v),defaultValues:{otp:""}}),[p,g]=(0,c.useState)(120),b=(0,c.useRef)([]);(0,c.useEffect)(()=>{if(p<=0)return;let e=setInterval(()=>g(e=>e-1),1e3);return()=>clearInterval(e)},[p]);let{mutate:x,isPending:y}=(0,h.useMutation)({mutationFn:async e=>{let t=await fetch("".concat("http://localhost:5000/api/v1","/auth/verify-code"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw Error(r.message||"Verification failed");return r},onSuccess:()=>{m.toast.success("âœ… Email verified successfully!"),r.push("/reset-password?email=".concat(encodeURIComponent(e||"")))},onError:e=>{m.toast.error(e.message||"Invalid OTP")}}),{mutate:w,isPending:j}=(0,h.useMutation)({mutationFn:async()=>{if(!e)throw Error("Email not found");let t=await fetch("".concat("http://localhost:5000/api/v1","/auth/forget-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),r=await t.json();if(!t.ok)throw Error(r.message||"Failed to resend OTP");return r},onSuccess:()=>{m.toast.success("OTP resent successfully ðŸ“©"),g(120)},onError:e=>{m.toast.error(e.message||"Failed to resend OTP")}}),_=Math.floor(p/60),k=p%60;return(0,t.jsx)(d.default,{children:(0,t.jsxs)("div",{className:"space-y-6 p-5",children:[(0,t.jsxs)("div",{className:"text-start space-y-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-[#71A899]",children:"Verify Email"}),(0,t.jsx)("p",{className:"text-[#6C757D]",children:"Enter OTP to verify your email address"})]}),(0,t.jsx)(n.Form,{...f,children:(0,t.jsxs)("form",{onSubmit:f.handleSubmit(t=>{if(!e)return void m.toast.error("Email missing from URL");x({email:e,otp:t.otp})}),className:"space-y-5",children:[(0,t.jsx)(n.FormField,{control:f.control,name:"otp",render:e=>{let{field:r}=e;return(0,t.jsxs)(n.FormItem,{children:[(0,t.jsx)(n.FormControl,{children:(0,t.jsx)("div",{className:"flex gap-2 md:gap-3 justify-between",children:Array.from({length:6}).map((e,s)=>(0,t.jsx)(o.Input,{ref:e=>{e&&(b.current[s]=e)},maxLength:1,className:"w-10 h-10 md:w-12 md:h-12 text-center text-sm md:text-lg font-semibold border-2 focus:border-[#71A899]",value:r.value[s]||"",onChange:e=>((e,t,r)=>{var s,i;let a=e.target.value.replace(/[^0-9]/g,""),n=r.value.substring(0,t)+a+r.value.substring(t+1);r.onChange(n),a&&t<5&&(null==(s=b.current[t+1])||s.focus()),!a&&t>0&&(null==(i=b.current[t-1])||i.focus())})(e,s,r)},s))})}),(0,t.jsx)(n.FormMessage,{className:"text-center"})]})}}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(u,{size:16}),(0,t.jsxs)("span",{children:[_.toString().padStart(2,"0"),":",k.toString().padStart(2,"0")]})]}),(0,t.jsx)("button",{type:"button",onClick:()=>w(),disabled:p>0||j,className:"".concat(p>0?"text-gray-400 cursor-not-allowed":"text-[#71A899] underline font-medium"),children:j?"Resending...":"Resend OTP"})]}),(0,t.jsx)(l.Button,{type:"submit",disabled:y,className:"w-full bg-[#71A899] hover:bg-[#71A899]/90 text-white",children:y?"Verifying...":"Verify"})]})})]})})}}]);